(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([[8283],{60748:(t,e,i)=>{"use strict";i(94604);var r=i(8621),n=i(9672),s=i(87156),o=i(50856),a={distance:function(t,e,i,r){var n=t-i,s=e-r;return Math.sqrt(n*n+s*s)},now:window.performance&&window.performance.now?window.performance.now.bind(window.performance):Date.now};function d(t){this.element=t,this.width=this.boundingRect.width,this.height=this.boundingRect.height,this.size=Math.max(this.width,this.height)}function l(t){this.element=t,this.color=window.getComputedStyle(t).color,this.wave=document.createElement("div"),this.waveContainer=document.createElement("div"),this.wave.style.backgroundColor=this.color,this.wave.classList.add("wave"),this.waveContainer.classList.add("wave-container"),(0,s.vz)(this.waveContainer).appendChild(this.wave),this.resetInteractionState()}d.prototype={get boundingRect(){return this.element.getBoundingClientRect()},furthestCornerDistanceFrom:function(t,e){var i=a.distance(t,e,0,0),r=a.distance(t,e,this.width,0),n=a.distance(t,e,0,this.height),s=a.distance(t,e,this.width,this.height);return Math.max(i,r,n,s)}},l.MAX_RADIUS=300,l.prototype={get recenters(){return this.element.recenters},get center(){return this.element.center},get mouseDownElapsed(){var t;return this.mouseDownStart?(t=a.now()-this.mouseDownStart,this.mouseUpStart&&(t-=this.mouseUpElapsed),t):0},get mouseUpElapsed(){return this.mouseUpStart?a.now()-this.mouseUpStart:0},get mouseDownElapsedSeconds(){return this.mouseDownElapsed/1e3},get mouseUpElapsedSeconds(){return this.mouseUpElapsed/1e3},get mouseInteractionSeconds(){return this.mouseDownElapsedSeconds+this.mouseUpElapsedSeconds},get initialOpacity(){return this.element.initialOpacity},get opacityDecayVelocity(){return this.element.opacityDecayVelocity},get radius(){var t=this.containerMetrics.width*this.containerMetrics.width,e=this.containerMetrics.height*this.containerMetrics.height,i=1.1*Math.min(Math.sqrt(t+e),l.MAX_RADIUS)+5,r=1.1-i/l.MAX_RADIUS*.2,n=this.mouseInteractionSeconds/r,s=i*(1-Math.pow(80,-n));return Math.abs(s)},get opacity(){return this.mouseUpStart?Math.max(0,this.initialOpacity-this.mouseUpElapsedSeconds*this.opacityDecayVelocity):this.initialOpacity},get outerOpacity(){var t=.3*this.mouseUpElapsedSeconds,e=this.opacity;return Math.max(0,Math.min(t,e))},get isOpacityFullyDecayed(){return this.opacity<.01&&this.radius>=Math.min(this.maxRadius,l.MAX_RADIUS)},get isRestingAtMaxRadius(){return this.opacity>=this.initialOpacity&&this.radius>=Math.min(this.maxRadius,l.MAX_RADIUS)},get isAnimationComplete(){return this.mouseUpStart?this.isOpacityFullyDecayed:this.isRestingAtMaxRadius},get translationFraction(){return Math.min(1,this.radius/this.containerMetrics.size*2/Math.sqrt(2))},get xNow(){return this.xEnd?this.xStart+this.translationFraction*(this.xEnd-this.xStart):this.xStart},get yNow(){return this.yEnd?this.yStart+this.translationFraction*(this.yEnd-this.yStart):this.yStart},get isMouseDown(){return this.mouseDownStart&&!this.mouseUpStart},resetInteractionState:function(){this.maxRadius=0,this.mouseDownStart=0,this.mouseUpStart=0,this.xStart=0,this.yStart=0,this.xEnd=0,this.yEnd=0,this.slideDistance=0,this.containerMetrics=new d(this.element)},draw:function(){var t,e,i;this.wave.style.opacity=this.opacity,t=this.radius/(this.containerMetrics.size/2),e=this.xNow-this.containerMetrics.width/2,i=this.yNow-this.containerMetrics.height/2,this.waveContainer.style.webkitTransform="translate("+e+"px, "+i+"px)",this.waveContainer.style.transform="translate3d("+e+"px, "+i+"px, 0)",this.wave.style.webkitTransform="scale("+t+","+t+")",this.wave.style.transform="scale3d("+t+","+t+",1)"},downAction:function(t){var e=this.containerMetrics.width/2,i=this.containerMetrics.height/2;this.resetInteractionState(),this.mouseDownStart=a.now(),this.center?(this.xStart=e,this.yStart=i,this.slideDistance=a.distance(this.xStart,this.yStart,this.xEnd,this.yEnd)):(this.xStart=t?t.detail.x-this.containerMetrics.boundingRect.left:this.containerMetrics.width/2,this.yStart=t?t.detail.y-this.containerMetrics.boundingRect.top:this.containerMetrics.height/2),this.recenters&&(this.xEnd=e,this.yEnd=i,this.slideDistance=a.distance(this.xStart,this.yStart,this.xEnd,this.yEnd)),this.maxRadius=this.containerMetrics.furthestCornerDistanceFrom(this.xStart,this.yStart),this.waveContainer.style.top=(this.containerMetrics.height-this.containerMetrics.size)/2+"px",this.waveContainer.style.left=(this.containerMetrics.width-this.containerMetrics.size)/2+"px",this.waveContainer.style.width=this.containerMetrics.size+"px",this.waveContainer.style.height=this.containerMetrics.size+"px"},upAction:function(t){this.isMouseDown&&(this.mouseUpStart=a.now())},remove:function(){(0,s.vz)((0,s.vz)(this.waveContainer).parentNode).removeChild(this.waveContainer)}},(0,n.k)({_template:o.d`
    <style>
      :host {
        display: block;
        position: absolute;
        border-radius: inherit;
        overflow: hidden;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;

        /* See PolymerElements/paper-behaviors/issues/34. On non-Chrome browsers,
         * creating a node (with a position:absolute) in the middle of an event
         * handler "interrupts" that event handler (which happens when the
         * ripple is created on demand) */
        pointer-events: none;
      }

      :host([animating]) {
        /* This resolves a rendering issue in Chrome (as of 40) where the
           ripple is not properly clipped by its parent (which may have
           rounded corners). See: http://jsbin.com/temexa/4

           Note: We only apply this style conditionally. Otherwise, the browser
           will create a new compositing layer for every ripple element on the
           page, and that would be bad. */
        -webkit-transform: translate(0, 0);
        transform: translate3d(0, 0, 0);
      }

      #background,
      #waves,
      .wave-container,
      .wave {
        pointer-events: none;
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
      }

      #background,
      .wave {
        opacity: 0;
      }

      #waves,
      .wave {
        overflow: hidden;
      }

      .wave-container,
      .wave {
        border-radius: 50%;
      }

      :host(.circle) #background,
      :host(.circle) #waves {
        border-radius: 50%;
      }

      :host(.circle) .wave-container {
        overflow: hidden;
      }
    </style>

    <div id="background"></div>
    <div id="waves"></div>
`,is:"paper-ripple",behaviors:[r.G],properties:{initialOpacity:{type:Number,value:.25},opacityDecayVelocity:{type:Number,value:.8},recenters:{type:Boolean,value:!1},center:{type:Boolean,value:!1},ripples:{type:Array,value:function(){return[]}},animating:{type:Boolean,readOnly:!0,reflectToAttribute:!0,value:!1},holdDown:{type:Boolean,value:!1,observer:"_holdDownChanged"},noink:{type:Boolean,value:!1},_animating:{type:Boolean},_boundAnimate:{type:Function,value:function(){return this.animate.bind(this)}}},get target(){return this.keyEventTarget},keyBindings:{"enter:keydown":"_onEnterKeydown","space:keydown":"_onSpaceKeydown","space:keyup":"_onSpaceKeyup"},attached:function(){11==(0,s.vz)(this).parentNode.nodeType?this.keyEventTarget=(0,s.vz)(this).getOwnerRoot().host:this.keyEventTarget=(0,s.vz)(this).parentNode;var t=this.keyEventTarget;this.listen(t,"up","uiUpAction"),this.listen(t,"down","uiDownAction")},detached:function(){this.unlisten(this.keyEventTarget,"up","uiUpAction"),this.unlisten(this.keyEventTarget,"down","uiDownAction"),this.keyEventTarget=null},get shouldKeepAnimating(){for(var t=0;t<this.ripples.length;++t)if(!this.ripples[t].isAnimationComplete)return!0;return!1},simulatedRipple:function(){this.downAction(null),this.async((function(){this.upAction()}),1)},uiDownAction:function(t){this.noink||this.downAction(t)},downAction:function(t){this.holdDown&&this.ripples.length>0||(this.addRipple().downAction(t),this._animating||(this._animating=!0,this.animate()))},uiUpAction:function(t){this.noink||this.upAction(t)},upAction:function(t){this.holdDown||(this.ripples.forEach((function(e){e.upAction(t)})),this._animating=!0,this.animate())},onAnimationComplete:function(){this._animating=!1,this.$.background.style.backgroundColor="",this.fire("transitionend")},addRipple:function(){var t=new l(this);return(0,s.vz)(this.$.waves).appendChild(t.waveContainer),this.$.background.style.backgroundColor=t.color,this.ripples.push(t),this._setAnimating(!0),t},removeRipple:function(t){var e=this.ripples.indexOf(t);e<0||(this.ripples.splice(e,1),t.remove(),this.ripples.length||this._setAnimating(!1))},animate:function(){if(this._animating){var t,e;for(t=0;t<this.ripples.length;++t)(e=this.ripples[t]).draw(),this.$.background.style.opacity=e.outerOpacity,e.isOpacityFullyDecayed&&!e.isRestingAtMaxRadius&&this.removeRipple(e);this.shouldKeepAnimating||0!==this.ripples.length?window.requestAnimationFrame(this._boundAnimate):this.onAnimationComplete()}},animateRipple:function(){return this.animate()},_onEnterKeydown:function(){this.uiDownAction(),this.async(this.uiUpAction,1)},_onSpaceKeydown:function(){this.uiDownAction()},_onSpaceKeyup:function(){this.uiUpAction()},_holdDownChanged:function(t,e){void 0!==e&&(t?this.downAction():this.upAction())}})},12198:(t,e,i)=>{"use strict";i.d(e,{D_:()=>o,p6:()=>d,mn:()=>c,NC:()=>u,Nh:()=>m,yQ:()=>y});var r=i(68928),n=i(14516),s=i(43274);const o=s.Sb?(t,e)=>a(e).format(t):t=>(0,r.WU)(t,"dddd, MMMM D"),a=(0,n.Z)((t=>new Intl.DateTimeFormat(t.language,{weekday:"long",month:"long",day:"numeric"}))),d=s.Sb?(t,e)=>l(e).format(t):t=>(0,r.WU)(t,"MMMM D, YYYY"),l=(0,n.Z)((t=>new Intl.DateTimeFormat(t.language,{year:"numeric",month:"long",day:"numeric"}))),c=((0,n.Z)((t=>new Intl.DateTimeFormat(t.language,{year:"numeric",month:"numeric",day:"numeric"}))),s.Sb?(t,e)=>h(e).format(t):t=>(0,r.WU)(t,"MMM D")),h=(0,n.Z)((t=>new Intl.DateTimeFormat(t.language,{day:"numeric",month:"short"}))),u=s.Sb?(t,e)=>p(e).format(t):t=>(0,r.WU)(t,"MMMM YYYY"),p=(0,n.Z)((t=>new Intl.DateTimeFormat(t.language,{month:"long",year:"numeric"}))),m=s.Sb?(t,e)=>f(e).format(t):t=>(0,r.WU)(t,"MMMM"),f=(0,n.Z)((t=>new Intl.DateTimeFormat(t.language,{month:"long"}))),y=s.Sb?(t,e)=>v(e).format(t):t=>(0,r.WU)(t,"YYYY"),v=(0,n.Z)((t=>new Intl.DateTimeFormat(t.language,{year:"numeric"})))},44583:(t,e,i)=>{"use strict";i.d(e,{o0:()=>a,E8:()=>l});var r=i(68928),n=i(14516),s=i(43274),o=i(65810);const a=s.Op?(t,e)=>d(e).format(t):(t,e)=>(0,r.WU)(t,((0,o.y)(e)," A")),d=(0,n.Z)((t=>new Intl.DateTimeFormat(t.language,{year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"2-digit",hour12:(0,o.y)(t)}))),l=s.Op?(t,e)=>c(e).format(t):(t,e)=>(0,r.WU)(t,((0,o.y)(e)," A")),c=(0,n.Z)((t=>new Intl.DateTimeFormat(t.language,{year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"2-digit",second:"2-digit",hour12:(0,o.y)(t)})));(0,n.Z)((t=>new Intl.DateTimeFormat(t.language,{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"2-digit",hour12:(0,o.y)(t)})))},49684:(t,e,i)=>{"use strict";i.d(e,{mr:()=>a,Vu:()=>l,xO:()=>h});var r=i(68928),n=i(14516),s=i(43274),o=i(65810);const a=s.BF?(t,e)=>d(e).format(t):(t,e)=>(0,r.WU)(t,((0,o.y)(e)," A")),d=(0,n.Z)((t=>new Intl.DateTimeFormat(t.language,{hour:"numeric",minute:"2-digit",hour12:(0,o.y)(t)}))),l=s.BF?(t,e)=>c(e).format(t):(t,e)=>(0,r.WU)(t,((0,o.y)(e)," A")),c=(0,n.Z)((t=>new Intl.DateTimeFormat(t.language,{hour:"numeric",minute:"2-digit",second:"2-digit",hour12:(0,o.y)(t)}))),h=s.BF?(t,e)=>u(e).format(t):(t,e)=>(0,r.WU)(t,((0,o.y)(e)," A")),u=(0,n.Z)((t=>new Intl.DateTimeFormat(t.language,{weekday:"long",hour:"numeric",minute:"2-digit",hour12:(0,o.y)(t)})))},29171:(t,e,i)=>{"use strict";i.d(e,{D:()=>l});var r=i(56007),n=i(12198),s=i(44583),o=i(49684),a=i(45524),d=i(22311);const l=(t,e,i,l)=>{const c=void 0!==l?l:e.state;if(c===r.lz||c===r.nZ)return t(`state.default.${c}`);if(e.attributes.unit_of_measurement){if("monetary"===e.attributes.device_class)try{return(0,a.u)(c,i,{style:"currency",currency:e.attributes.unit_of_measurement})}catch(t){}return`${(0,a.u)(c,i)} ${e.attributes.unit_of_measurement}`}const h=(0,d.N)(e);if("input_datetime"===h){if(!l){let t;return e.attributes.has_time?e.attributes.has_date?(t=new Date(e.attributes.year,e.attributes.month-1,e.attributes.day,e.attributes.hour,e.attributes.minute),(0,s.o0)(t,i)):(t=new Date,t.setHours(e.attributes.hour,e.attributes.minute),(0,o.mr)(t,i)):(t=new Date(e.attributes.year,e.attributes.month-1,e.attributes.day),(0,n.p6)(t,i))}try{const t=l.split(" ");if(2===t.length)return(0,s.o0)(new Date(t.join("T")),i);if(1===t.length){if(l.includes("-"))return(0,n.p6)(new Date(`${l}T00:00`),i);if(l.includes(":")){const t=new Date;return(0,o.mr)(new Date(`${t.toISOString().split("T")[0]}T${l}`),i)}}return l}catch{return l}}return"humidifier"===h&&"on"===c&&e.attributes.humidity?`${e.attributes.humidity} %`:"counter"===h||"number"===h||"input_number"===h?(0,a.u)(c,i):e.attributes.device_class&&t(`component.${h}.state.${e.attributes.device_class}.${c}`)||t(`component.${h}.state._.${c}`)||c}},22311:(t,e,i)=>{"use strict";i.d(e,{N:()=>n});var r=i(58831);const n=t=>(0,r.M)(t.entity_id)},45524:(t,e,i)=>{"use strict";i.d(e,{H:()=>s,u:()=>o});var r=i(66477),n=i(27593);const s=t=>{switch(t.number_format){case r.y4.comma_decimal:return["en-US","en"];case r.y4.decimal_comma:return["de","es","it"];case r.y4.space_comma:return["fr","sv","cs"];case r.y4.system:return;default:return t.language}},o=(t,e,i)=>{const o=e?s(e):void 0;if(Number.isNaN=Number.isNaN||function t(e){return"number"==typeof e&&t(e)},(null==e?void 0:e.number_format)!==r.y4.none&&!Number.isNaN(Number(t))&&Intl)try{return new Intl.NumberFormat(o,a(t,i)).format(Number(t))}catch(e){return console.error(e),new Intl.NumberFormat(void 0,a(t,i)).format(Number(t))}return"string"==typeof t?t:`${(0,n.N)(t,null==i?void 0:i.maximumFractionDigits).toString()}${"currency"===(null==i?void 0:i.style)?` ${i.currency}`:""}`},a=(t,e)=>{const i={maximumFractionDigits:2,...e};if("string"!=typeof t)return i;if(!e||!e.minimumFractionDigits&&!e.maximumFractionDigits){const e=t.indexOf(".")>-1?t.split(".")[1].length:0;i.minimumFractionDigits=e,i.maximumFractionDigits=e}return i}},26955:(t,e,i)=>{"use strict";i.r(e),i.d(e,{EntityRegistrySettingsHelper:()=>L});var r=i(50424),n=i(55358),s=i(7323),o=i(55642),a=i(47181),d=i(56005),l=i(74186),c=i(43180),h=i(11512),u=i(3300),p=i(74725),m=i(77535),f=i(8326),y=i(26765),v=i(11654),g=(i(13345),i(45122),i(65580),i(88108),i(38707),i(39509),i(48003),i(30879),i(58831)),w=(i(68101),i(43709),i(57292)),b=i(73826);function k(){k=function(){return t};var t={elementsDefinitionOrder:[["method"],["field"]],initializeInstanceElements:function(t,e){["method","field"].forEach((function(i){e.forEach((function(e){e.kind===i&&"own"===e.placement&&this.defineClassElement(t,e)}),this)}),this)},initializeClassElements:function(t,e){var i=t.prototype;["method","field"].forEach((function(r){e.forEach((function(e){var n=e.placement;if(e.kind===r&&("static"===n||"prototype"===n)){var s="static"===n?t:i;this.defineClassElement(s,e)}}),this)}),this)},defineClassElement:function(t,e){var i=e.descriptor;if("field"===e.kind){var r=e.initializer;i={enumerable:i.enumerable,writable:i.writable,configurable:i.configurable,value:void 0===r?void 0:r.call(t)}}Object.defineProperty(t,e.key,i)},decorateClass:function(t,e){var i=[],r=[],n={static:[],prototype:[],own:[]};if(t.forEach((function(t){this.addElementPlacement(t,n)}),this),t.forEach((function(t){if(!D(t))return i.push(t);var e=this.decorateElement(t,n);i.push(e.element),i.push.apply(i,e.extras),r.push.apply(r,e.finishers)}),this),!e)return{elements:i,finishers:r};var s=this.decorateConstructor(i,e);return r.push.apply(r,s.finishers),s.finishers=r,s},addElementPlacement:function(t,e,i){var r=e[t.placement];if(!i&&-1!==r.indexOf(t.key))throw new TypeError("Duplicated element ("+t.key+")");r.push(t.key)},decorateElement:function(t,e){for(var i=[],r=[],n=t.decorators,s=n.length-1;s>=0;s--){var o=e[t.placement];o.splice(o.indexOf(t.key),1);var a=this.fromElementDescriptor(t),d=this.toElementFinisherExtras((0,n[s])(a)||a);t=d.element,this.addElementPlacement(t,e),d.finisher&&r.push(d.finisher);var l=d.extras;if(l){for(var c=0;c<l.length;c++)this.addElementPlacement(l[c],e);i.push.apply(i,l)}}return{element:t,finishers:r,extras:i}},decorateConstructor:function(t,e){for(var i=[],r=e.length-1;r>=0;r--){var n=this.fromClassDescriptor(t),s=this.toClassDescriptor((0,e[r])(n)||n);if(void 0!==s.finisher&&i.push(s.finisher),void 0!==s.elements){t=s.elements;for(var o=0;o<t.length-1;o++)for(var a=o+1;a<t.length;a++)if(t[o].key===t[a].key&&t[o].placement===t[a].placement)throw new TypeError("Duplicated element ("+t[o].key+")")}}return{elements:t,finishers:i}},fromElementDescriptor:function(t){var e={kind:t.kind,key:t.key,placement:t.placement,descriptor:t.descriptor};return Object.defineProperty(e,Symbol.toStringTag,{value:"Descriptor",configurable:!0}),"field"===t.kind&&(e.initializer=t.initializer),e},toElementDescriptors:function(t){var e;if(void 0!==t)return(e=t,function(t){if(Array.isArray(t))return t}(e)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(e)||function(t,e){if(t){if("string"==typeof t)return C(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?C(t,e):void 0}}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).map((function(t){var e=this.toElementDescriptor(t);return this.disallowProperty(t,"finisher","An element descriptor"),this.disallowProperty(t,"extras","An element descriptor"),e}),this)},toElementDescriptor:function(t){var e=String(t.kind);if("method"!==e&&"field"!==e)throw new TypeError('An element descriptor\'s .kind property must be either "method" or "field", but a decorator created an element descriptor with .kind "'+e+'"');var i=A(t.key),r=String(t.placement);if("static"!==r&&"prototype"!==r&&"own"!==r)throw new TypeError('An element descriptor\'s .placement property must be one of "static", "prototype" or "own", but a decorator created an element descriptor with .placement "'+r+'"');var n=t.descriptor;this.disallowProperty(t,"elements","An element descriptor");var s={kind:e,key:i,placement:r,descriptor:Object.assign({},n)};return"field"!==e?this.disallowProperty(t,"initializer","A method descriptor"):(this.disallowProperty(n,"get","The property descriptor of a field descriptor"),this.disallowProperty(n,"set","The property descriptor of a field descriptor"),this.disallowProperty(n,"value","The property descriptor of a field descriptor"),s.initializer=t.initializer),s},toElementFinisherExtras:function(t){return{element:this.toElementDescriptor(t),finisher:x(t,"finisher"),extras:this.toElementDescriptors(t.extras)}},fromClassDescriptor:function(t){var e={kind:"class",elements:t.map(this.fromElementDescriptor,this)};return Object.defineProperty(e,Symbol.toStringTag,{value:"Descriptor",configurable:!0}),e},toClassDescriptor:function(t){var e=String(t.kind);if("class"!==e)throw new TypeError('A class descriptor\'s .kind property must be "class", but a decorator created a class descriptor with .kind "'+e+'"');this.disallowProperty(t,"key","A class descriptor"),this.disallowProperty(t,"placement","A class descriptor"),this.disallowProperty(t,"descriptor","A class descriptor"),this.disallowProperty(t,"initializer","A class descriptor"),this.disallowProperty(t,"extras","A class descriptor");var i=x(t,"finisher");return{elements:this.toElementDescriptors(t.elements),finisher:i}},runClassFinishers:function(t,e){for(var i=0;i<e.length;i++){var r=(0,e[i])(t);if(void 0!==r){if("function"!=typeof r)throw new TypeError("Finishers must return a constructor.");t=r}}return t},disallowProperty:function(t,e,i){if(void 0!==t[e])throw new TypeError(i+" can't have a ."+e+" property.")}};return t}function _(t){var e,i=A(t.key);"method"===t.kind?e={value:t.value,writable:!0,configurable:!0,enumerable:!1}:"get"===t.kind?e={get:t.value,configurable:!0,enumerable:!1}:"set"===t.kind?e={set:t.value,configurable:!0,enumerable:!1}:"field"===t.kind&&(e={configurable:!0,writable:!0,enumerable:!0});var r={kind:"field"===t.kind?"field":"method",key:i,placement:t.static?"static":"field"===t.kind?"own":"prototype",descriptor:e};return t.decorators&&(r.decorators=t.decorators),"field"===t.kind&&(r.initializer=t.value),r}function E(t,e){void 0!==t.descriptor.get?e.descriptor.get=t.descriptor.get:e.descriptor.set=t.descriptor.set}function D(t){return t.decorators&&t.decorators.length}function S(t){return void 0!==t&&!(void 0===t.value&&void 0===t.writable)}function x(t,e){var i=t[e];if(void 0!==i&&"function"!=typeof i)throw new TypeError("Expected '"+e+"' to be a function");return i}function A(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var r=i.call(t,e||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:String(e)}function C(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,r=new Array(e);i<e;i++)r[i]=t[i];return r}function M(t,e,i){return(M="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,i){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=O(t)););return t}(t,e);if(r){var n=Object.getOwnPropertyDescriptor(r,e);return n.get?n.get.call(i):n.value}})(t,e,i||t)}function O(t){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}!function(t,e,i,r){var n=k();if(r)for(var s=0;s<r.length;s++)n=r[s](n);var o=e((function(t){n.initializeInstanceElements(t,a.elements)}),i),a=n.decorateClass(function(t){for(var e=[],i=function(t){return"method"===t.kind&&t.key===s.key&&t.placement===s.placement},r=0;r<t.length;r++){var n,s=t[r];if("method"===s.kind&&(n=e.find(i)))if(S(s.descriptor)||S(n.descriptor)){if(D(s)||D(n))throw new ReferenceError("Duplicated methods ("+s.key+") can't be decorated.");n.descriptor=s.descriptor}else{if(D(s)){if(D(n))throw new ReferenceError("Decorators can't be placed on different accessors with for the same property ("+s.key+").");n.decorators=s.decorators}E(s,n)}else e.push(s)}return e}(o.d.map(_)),t);n.initializeClassElements(o.F,a.elements),n.runClassFinishers(o.F,a.finishers)}([(0,n.Mo)("ha-registry-basic-editor")],(function(t,e){class i extends e{constructor(...e){super(...e),t(this)}}return{F:i,d:[{kind:"field",decorators:[(0,n.Cb)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,n.Cb)()],key:"entry",value:void 0},{kind:"field",decorators:[(0,n.SB)()],key:"_origEntityId",value:void 0},{kind:"field",decorators:[(0,n.SB)()],key:"_entityId",value:void 0},{kind:"field",decorators:[(0,n.SB)()],key:"_areaId",value:void 0},{kind:"field",decorators:[(0,n.SB)()],key:"_disabledBy",value:void 0},{kind:"field",key:"_deviceLookup",value:void 0},{kind:"field",decorators:[(0,n.SB)()],key:"_device",value:void 0},{kind:"field",decorators:[(0,n.SB)()],key:"_submitting",value:void 0},{kind:"method",key:"updateEntry",value:async function(){this._submitting=!0;const t={new_entity_id:this._entityId.trim(),area_id:this._areaId||null};this.entry.disabled_by===this._disabledBy||null!==this._disabledBy&&"user"!==this._disabledBy||(t.disabled_by=this._disabledBy);try{const e=await(0,l.Nv)(this.hass,this._origEntityId,t);e.require_restart&&(0,y.Ys)(this,{text:this.hass.localize("ui.dialogs.entity_registry.editor.enabled_restart_confirm")}),e.reload_delay&&(0,y.Ys)(this,{text:this.hass.localize("ui.dialogs.entity_registry.editor.enabled_delay_confirm","delay",e.reload_delay)})}finally{this._submitting=!1}}},{kind:"method",key:"hassSubscribe",value:function(){return[(0,w.q4)(this.hass.connection,(t=>{this._deviceLookup={};for(const e of t)this._deviceLookup[e.id]=e;!this._device&&this.entry.device_id&&(this._device=this._deviceLookup[this.entry.device_id])}))]}},{kind:"method",key:"updated",value:function(t){M(O(i.prototype),"updated",this).call(this,t),t.has("entry")&&this.entry&&(this._origEntityId=this.entry.entity_id,this._entityId=this.entry.entity_id,this._disabledBy=this.entry.disabled_by,this._areaId=this.entry.area_id,this._device=this.entry.device_id&&this._deviceLookup?this._deviceLookup[this.entry.device_id]:void 0)}},{kind:"method",key:"render",value:function(){var t;if(!this.hass||!this.entry||this.entry.entity_id!==this._origEntityId)return r.dy``;const e=(0,g.M)(this._entityId.trim())!==(0,g.M)(this.entry.entity_id);return r.dy`
      <paper-input
        .value=${this._entityId}
        @value-changed=${this._entityIdChanged}
        .label=${this.hass.localize("ui.dialogs.entity_registry.editor.entity_id")}
        error-message="Domain needs to stay the same"
        .invalid=${e}
        .disabled=${this._submitting}
      ></paper-input>
      <ha-area-picker
        .hass=${this.hass}
        .value=${this._areaId}
        .placeholder=${null===(t=this._device)||void 0===t?void 0:t.area_id}
        @value-changed=${this._areaPicked}
      ></ha-area-picker>
      <div class="row">
        <ha-switch
          .checked=${!this._disabledBy}
          @change=${this._disabledByChanged}
        >
        </ha-switch>
        <div>
          <div>
            ${this.hass.localize("ui.dialogs.entity_registry.editor.enabled_label")}
          </div>
          <div class="secondary">
            ${this._disabledBy&&"user"!==this._disabledBy?this.hass.localize("ui.dialogs.entity_registry.editor.enabled_cause","cause",this.hass.localize(`config_entry.disabled_by.${this._disabledBy}`)):""}
            ${this.hass.localize("ui.dialogs.entity_registry.editor.enabled_description")}
            <br />${this.hass.localize("ui.dialogs.entity_registry.editor.note")}
          </div>
        </div>
      </div>
    `}},{kind:"method",key:"_areaPicked",value:function(t){this._areaId=t.detail.value}},{kind:"method",key:"_entityIdChanged",value:function(t){this._entityId=t.detail.value}},{kind:"method",key:"_disabledByChanged",value:function(t){this._disabledBy=t.target.checked?null:"user"}},{kind:"get",static:!0,key:"styles",value:function(){return r.iv`
      ha-switch {
        margin-right: 16px;
      }
      .row {
        margin-top: 8px;
        color: var(--primary-text-color);
        display: flex;
        align-items: center;
      }
      .secondary {
        color: var(--secondary-text-color);
      }
    `}}]}}),(0,b.f)(r.oi));function I(){I=function(){return t};var t={elementsDefinitionOrder:[["method"],["field"]],initializeInstanceElements:function(t,e){["method","field"].forEach((function(i){e.forEach((function(e){e.kind===i&&"own"===e.placement&&this.defineClassElement(t,e)}),this)}),this)},initializeClassElements:function(t,e){var i=t.prototype;["method","field"].forEach((function(r){e.forEach((function(e){var n=e.placement;if(e.kind===r&&("static"===n||"prototype"===n)){var s="static"===n?t:i;this.defineClassElement(s,e)}}),this)}),this)},defineClassElement:function(t,e){var i=e.descriptor;if("field"===e.kind){var r=e.initializer;i={enumerable:i.enumerable,writable:i.writable,configurable:i.configurable,value:void 0===r?void 0:r.call(t)}}Object.defineProperty(t,e.key,i)},decorateClass:function(t,e){var i=[],r=[],n={static:[],prototype:[],own:[]};if(t.forEach((function(t){this.addElementPlacement(t,n)}),this),t.forEach((function(t){if(!z(t))return i.push(t);var e=this.decorateElement(t,n);i.push(e.element),i.push.apply(i,e.extras),r.push.apply(r,e.finishers)}),this),!e)return{elements:i,finishers:r};var s=this.decorateConstructor(i,e);return r.push.apply(r,s.finishers),s.finishers=r,s},addElementPlacement:function(t,e,i){var r=e[t.placement];if(!i&&-1!==r.indexOf(t.key))throw new TypeError("Duplicated element ("+t.key+")");r.push(t.key)},decorateElement:function(t,e){for(var i=[],r=[],n=t.decorators,s=n.length-1;s>=0;s--){var o=e[t.placement];o.splice(o.indexOf(t.key),1);var a=this.fromElementDescriptor(t),d=this.toElementFinisherExtras((0,n[s])(a)||a);t=d.element,this.addElementPlacement(t,e),d.finisher&&r.push(d.finisher);var l=d.extras;if(l){for(var c=0;c<l.length;c++)this.addElementPlacement(l[c],e);i.push.apply(i,l)}}return{element:t,finishers:r,extras:i}},decorateConstructor:function(t,e){for(var i=[],r=e.length-1;r>=0;r--){var n=this.fromClassDescriptor(t),s=this.toClassDescriptor((0,e[r])(n)||n);if(void 0!==s.finisher&&i.push(s.finisher),void 0!==s.elements){t=s.elements;for(var o=0;o<t.length-1;o++)for(var a=o+1;a<t.length;a++)if(t[o].key===t[a].key&&t[o].placement===t[a].placement)throw new TypeError("Duplicated element ("+t[o].key+")")}}return{elements:t,finishers:i}},fromElementDescriptor:function(t){var e={kind:t.kind,key:t.key,placement:t.placement,descriptor:t.descriptor};return Object.defineProperty(e,Symbol.toStringTag,{value:"Descriptor",configurable:!0}),"field"===t.kind&&(e.initializer=t.initializer),e},toElementDescriptors:function(t){var e;if(void 0!==t)return(e=t,function(t){if(Array.isArray(t))return t}(e)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(e)||function(t,e){if(t){if("string"==typeof t)return R(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?R(t,e):void 0}}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).map((function(t){var e=this.toElementDescriptor(t);return this.disallowProperty(t,"finisher","An element descriptor"),this.disallowProperty(t,"extras","An element descriptor"),e}),this)},toElementDescriptor:function(t){var e=String(t.kind);if("method"!==e&&"field"!==e)throw new TypeError('An element descriptor\'s .kind property must be either "method" or "field", but a decorator created an element descriptor with .kind "'+e+'"');var i=U(t.key),r=String(t.placement);if("static"!==r&&"prototype"!==r&&"own"!==r)throw new TypeError('An element descriptor\'s .placement property must be one of "static", "prototype" or "own", but a decorator created an element descriptor with .placement "'+r+'"');var n=t.descriptor;this.disallowProperty(t,"elements","An element descriptor");var s={kind:e,key:i,placement:r,descriptor:Object.assign({},n)};return"field"!==e?this.disallowProperty(t,"initializer","A method descriptor"):(this.disallowProperty(n,"get","The property descriptor of a field descriptor"),this.disallowProperty(n,"set","The property descriptor of a field descriptor"),this.disallowProperty(n,"value","The property descriptor of a field descriptor"),s.initializer=t.initializer),s},toElementFinisherExtras:function(t){return{element:this.toElementDescriptor(t),finisher:$(t,"finisher"),extras:this.toElementDescriptors(t.extras)}},fromClassDescriptor:function(t){var e={kind:"class",elements:t.map(this.fromElementDescriptor,this)};return Object.defineProperty(e,Symbol.toStringTag,{value:"Descriptor",configurable:!0}),e},toClassDescriptor:function(t){var e=String(t.kind);if("class"!==e)throw new TypeError('A class descriptor\'s .kind property must be "class", but a decorator created a class descriptor with .kind "'+e+'"');this.disallowProperty(t,"key","A class descriptor"),this.disallowProperty(t,"placement","A class descriptor"),this.disallowProperty(t,"descriptor","A class descriptor"),this.disallowProperty(t,"initializer","A class descriptor"),this.disallowProperty(t,"extras","A class descriptor");var i=$(t,"finisher");return{elements:this.toElementDescriptors(t.elements),finisher:i}},runClassFinishers:function(t,e){for(var i=0;i<e.length;i++){var r=(0,e[i])(t);if(void 0!==r){if("function"!=typeof r)throw new TypeError("Finishers must return a constructor.");t=r}}return t},disallowProperty:function(t,e,i){if(void 0!==t[e])throw new TypeError(i+" can't have a ."+e+" property.")}};return t}function T(t){var e,i=U(t.key);"method"===t.kind?e={value:t.value,writable:!0,configurable:!0,enumerable:!1}:"get"===t.kind?e={get:t.value,configurable:!0,enumerable:!1}:"set"===t.kind?e={set:t.value,configurable:!0,enumerable:!1}:"field"===t.kind&&(e={configurable:!0,writable:!0,enumerable:!0});var r={kind:"field"===t.kind?"field":"method",key:i,placement:t.static?"static":"field"===t.kind?"own":"prototype",descriptor:e};return t.decorators&&(r.decorators=t.decorators),"field"===t.kind&&(r.initializer=t.value),r}function P(t,e){void 0!==t.descriptor.get?e.descriptor.get=t.descriptor.get:e.descriptor.set=t.descriptor.set}function z(t){return t.decorators&&t.decorators.length}function F(t){return void 0!==t&&!(void 0===t.value&&void 0===t.writable)}function $(t,e){var i=t[e];if(void 0!==i&&"function"!=typeof i)throw new TypeError("Expected '"+e+"' to be a function");return i}function U(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var r=i.call(t,e||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:String(e)}function R(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,r=new Array(e);i<e;i++)r[i]=t[i];return r}function B(t,e,i){return(B="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,i){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=N(t)););return t}(t,e);if(r){var n=Object.getOwnPropertyDescriptor(r,e);return n.get?n.get.call(i):n.value}})(t,e,i||t)}function N(t){return(N=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}const j={input_boolean:{fetch:c.Aj,update:c.Xr,delete:c.wO},input_text:{fetch:m.YL,update:m.jt,delete:m.KB},input_number:{fetch:u.K4,update:u.hb,delete:u.fH},input_datetime:{fetch:h.s2,update:h.FF,delete:h.Gi},input_select:{fetch:p.LN,update:p.ON,delete:p.H3},counter:{fetch:d.W2,update:d.Rm,delete:d.YL},timer:{fetch:f.aT,update:f.mZ,delete:f.WH}};let L=function(t,e,i,r){var n=I();if(r)for(var s=0;s<r.length;s++)n=r[s](n);var o=e((function(t){n.initializeInstanceElements(t,a.elements)}),i),a=n.decorateClass(function(t){for(var e=[],i=function(t){return"method"===t.kind&&t.key===s.key&&t.placement===s.placement},r=0;r<t.length;r++){var n,s=t[r];if("method"===s.kind&&(n=e.find(i)))if(F(s.descriptor)||F(n.descriptor)){if(z(s)||z(n))throw new ReferenceError("Duplicated methods ("+s.key+") can't be decorated.");n.descriptor=s.descriptor}else{if(z(s)){if(z(n))throw new ReferenceError("Decorators can't be placed on different accessors with for the same property ("+s.key+").");n.decorators=s.decorators}P(s,n)}else e.push(s)}return e}(o.d.map(T)),t);return n.initializeClassElements(o.F,a.elements),n.runClassFinishers(o.F,a.finishers)}([(0,n.Mo)("entity-settings-helper-tab")],(function(t,e){class i extends e{constructor(...e){super(...e),t(this)}}return{F:i,d:[{kind:"field",decorators:[(0,n.Cb)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,n.Cb)()],key:"entry",value:void 0},{kind:"field",decorators:[(0,n.SB)()],key:"_error",value:void 0},{kind:"field",decorators:[(0,n.SB)()],key:"_item",value:void 0},{kind:"field",decorators:[(0,n.SB)()],key:"_submitting",value:void 0},{kind:"field",decorators:[(0,n.SB)()],key:"_componentLoaded",value:void 0},{kind:"field",decorators:[(0,n.IO)("ha-registry-basic-editor")],key:"_registryEditor",value:void 0},{kind:"method",key:"firstUpdated",value:function(t){B(N(i.prototype),"firstUpdated",this).call(this,t),this._componentLoaded=(0,s.p)(this.hass,this.entry.platform)}},{kind:"method",key:"updated",value:function(t){B(N(i.prototype),"updated",this).call(this,t),t.has("entry")&&(this._error=void 0,this._item=void 0,this._getItem())}},{kind:"method",key:"render",value:function(){if(void 0===this._item)return r.dy``;const t=this.hass.states[this.entry.entity_id];return r.dy`
      <div class="form">
        ${this._error?r.dy` <div class="error">${this._error}</div> `:""}
        ${this._componentLoaded?null===this._item?this.hass.localize("ui.dialogs.helper_settings.yaml_not_editable"):r.dy`
              <span @value-changed=${this._valueChanged}>
                ${(0,o.h)(`ha-${this.entry.platform}-form`,{hass:this.hass,item:this._item,entry:this.entry})}
              </span>
            `:this.hass.localize("ui.dialogs.helper_settings.platform_not_loaded","platform",this.entry.platform)}
        <ha-registry-basic-editor
          .hass=${this.hass}
          .entry=${this.entry}
        ></ha-registry-basic-editor>
      </div>
      <div class="buttons">
        <mwc-button
          class="warning"
          @click=${this._confirmDeleteItem}
          .disabled=${this._submitting||!this._item&&!(null!=t&&t.attributes.restored)}
        >
          ${this.hass.localize("ui.dialogs.entity_registry.editor.delete")}
        </mwc-button>
        <mwc-button
          @click=${this._updateItem}
          .disabled=${this._submitting||this._item&&!this._item.name}
        >
          ${this.hass.localize("ui.dialogs.entity_registry.editor.update")}
        </mwc-button>
      </div>
    `}},{kind:"method",key:"_valueChanged",value:function(t){this._error=void 0,this._item=t.detail.value}},{kind:"method",key:"_getItem",value:async function(){const t=await j[this.entry.platform].fetch(this.hass);this._item=t.find((t=>t.id===this.entry.unique_id))||null}},{kind:"method",key:"_updateItem",value:async function(){this._submitting=!0;try{var t;this._componentLoaded&&this._item&&await j[this.entry.platform].update(this.hass,this._item.id,this._item),await(null===(t=this._registryEditor)||void 0===t?void 0:t.updateEntry()),(0,a.B)(this,"close-dialog")}catch(t){this._error=t.message||"Unknown error"}finally{this._submitting=!1}}},{kind:"method",key:"_confirmDeleteItem",value:async function(){if(await(0,y.g7)(this,{text:this.hass.localize("ui.dialogs.entity_registry.editor.confirm_delete")})){this._submitting=!0;try{if(this._componentLoaded&&this._item)await j[this.entry.platform].delete(this.hass,this._item.id);else{const t=this.hass.states[this.entry.entity_id];if(null==t||!t.attributes.restored)return;await(0,l.z3)(this.hass,this.entry.entity_id)}(0,a.B)(this,"close-dialog")}finally{this._submitting=!1}}}},{kind:"get",static:!0,key:"styles",value:function(){return[v.Qx,r.iv`
        :host {
          display: block;
          padding: 0 !important;
        }
        .form {
          padding: 20px 24px;
          margin-bottom: 53px;
        }
        .buttons {
          position: absolute;
          bottom: 0;
          width: 100%;
          box-sizing: border-box;
          border-top: 1px solid
            var(--mdc-dialog-scroll-divider-color, rgba(0, 0, 0, 0.12));
          display: flex;
          justify-content: space-between;
          padding: 8px;
          background-color: var(--mdc-theme-surface, #fff);
        }
        .error {
          color: var(--error-color);
          margin-bottom: 8px;
        }
        .row {
          margin-top: 8px;
          color: var(--primary-text-color);
        }
        .secondary {
          color: var(--secondary-text-color);
        }
      `]}}]}}),r.oi)}}]);
//# sourceMappingURL=abbe65cc.js.map