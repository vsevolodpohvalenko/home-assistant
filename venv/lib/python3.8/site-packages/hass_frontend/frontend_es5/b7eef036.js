(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([[3699],{93699:function(e,n,r){"use strict";r.r(n);r(30879);var o,t=r(50856),i=r(28426),a=(r(98762),r(22098),r(60010),r(11052)),s=r(1265),l=(r(3426),r(27322));r(88165);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function p(e,n){for(var r=0;r<n.length;r++){var o=n[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function f(e,n){return(f=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function d(e){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=h(e);if(n){var t=h(this).constructor;r=Reflect.construct(o,arguments,t)}else r=o.apply(this,arguments);return g(this,r)}}function g(e,n){return!n||"object"!==c(n)&&"function"!=typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):n}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var y=function(e){!function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&f(e,n)}(s,e);var n,r,i,a=d(s);function s(){return u(this,s),a.apply(this,arguments)}return n=s,i=[{key:"template",get:function(){return(0,t.d)(o||(e=['\n    <style include="iron-flex ha-style">\n      [slot=introduction] {\n        margin: -1em 0;\n      }\n      [slot=introduction] a {\n        color: var(--primary-color);\n      }\n      a {\n        color: var(--primary-color);\n      }\n      paper-item {\n        cursor: pointer;\n      }\n      h1 {\n        @apply --paper-font-headline;\n        margin: 0;\n      }\n      .error {\n        color: var(--error-color);\n      }\n      .card-actions {\n        display: flex;\n        justify-content: space-between;\n        align-items: center;\n      }\n      [hidden] {\n        display: none;\n      }\n    </style>\n    <hass-subpage hass="[[hass]]" narrow="[[narrow]]" header="[[localize(\'ui.panel.config.cloud.register.title\')]]">\n      <div class="content">\n        <ha-config-section is-wide="[[isWide]]">\n          <span slot="header">[[localize(\'ui.panel.config.cloud.register.headline\')]]</span>\n          <div slot="introduction">\n            <p>\n              [[localize(\'ui.panel.config.cloud.register.information\')]]\n            </p>\n            <p>\n            [[localize(\'ui.panel.config.cloud.register.information2\')]]\n            </p>\n            <ul>\n              <li>[[localize(\'ui.panel.config.cloud.register.feature_remote_control\')]]</li>\n              <li>[[localize(\'ui.panel.config.cloud.register.feature_google_home\')]]</li>\n              <li>[[localize(\'ui.panel.config.cloud.register.feature_amazon_alexa\')]]</li>\n              <li>[[localize(\'ui.panel.config.cloud.register.feature_webhook_apps\')]]</li>\n            </ul>\n            <p>\n              [[localize(\'ui.panel.config.cloud.register.information3\')]] <a href=\'https://www.nabucasa.com\' target=\'_blank\'>Nabu&nbsp;Casa,&nbsp;Inc</a>[[localize(\'ui.panel.config.cloud.register.information3a\')]]\n            </p>\n\n            <p>\n              [[localize(\'ui.panel.config.cloud.register.information4\')]]\n              </p><ul>\n                <li><a href="[[_computeDocumentationUrlTos(hass)]]" target="_blank" rel="noreferrer">[[localize(\'ui.panel.config.cloud.register.link_terms_conditions\')]]</a></li>\n                <li><a href="[[_computeDocumentationUrlPrivacy(hass)]]" target="_blank" rel="noreferrer">[[localize(\'ui.panel.config.cloud.register.link_privacy_policy\')]]</a></li>\n              </ul>\n            </p>\n          </div>\n\n          <ha-card header="[[localize(\'ui.panel.config.cloud.register.create_account\')]]">\n            <div class="card-content">\n              <div class="header">\n                <div class="error" hidden$="[[!_error]]">[[_error]]</div>\n              </div>\n              <paper-input autofocus="" id="email" label="[[localize(\'ui.panel.config.cloud.register.email_address\')]]" type="email" value="{{email}}" on-keydown="_keyDown" error-message="[[localize(\'ui.panel.config.cloud.register.email_error_msg\')]]"></paper-input>\n              <paper-input id="password" label="Password" value="{{_password}}" type="password" on-keydown="_keyDown" error-message="[[localize(\'ui.panel.config.cloud.register.password_error_msg\')]]"></paper-input>\n            </div>\n            <div class="card-actions">\n              <ha-progress-button on-click="_handleRegister" progress="[[_requestInProgress]]">[[localize(\'ui.panel.config.cloud.register.start_trial\')]]</ha-progress-button>\n              <button class="link" hidden="[[_requestInProgress]]" on-click="_handleResendVerifyEmail">[[localize(\'ui.panel.config.cloud.register.resend_confirmation_email\')]]</button>\n            </div>\n          </ha-card>\n        </ha-config-section>\n      </div>\n    </hass-subpage>\n'],n||(n=e.slice(0)),o=Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))));var e,n}},{key:"properties",get:function(){return{hass:Object,isWide:Boolean,narrow:Boolean,email:{type:String,notify:!0},_requestInProgress:{type:Boolean,value:!1},_password:{type:String,value:""},_error:{type:String,value:""}}}},{key:"observers",get:function(){return["_inputChanged(email, _password)"]}}],(r=[{key:"_inputChanged",value:function(){this._error="",this.$.email.invalid=!1,this.$.password.invalid=!1}},{key:"_keyDown",value:function(e){13===e.keyCode&&(this._handleRegister(),e.preventDefault())}},{key:"_computeDocumentationUrlTos",value:function(e){return(0,l.R)(e,"/tos/")}},{key:"_computeDocumentationUrlPrivacy",value:function(e){return(0,l.R)(e,"/privacy/")}},{key:"_handleRegister",value:function(){var e=this,n=!1;this.email&&this.email.includes("@")||(this.$.email.invalid=!0,this.$.email.focus(),n=!0),this._password.length<8&&(this.$.password.invalid=!0,n||(n=!0,this.$.password.focus())),n||(this._requestInProgress=!0,this.hass.callApi("post","cloud/register",{email:this.email,password:this._password}).then((function(){return e._verificationEmailSent()}),(function(n){e._password="",e.setProperties({_requestInProgress:!1,_error:n&&n.body&&n.body.message?n.body.message:"Unknown error"})})))}},{key:"_handleResendVerifyEmail",value:function(){var e=this;this.email?this.hass.callApi("post","cloud/resend_confirm",{email:this.email}).then((function(){return e._verificationEmailSent()}),(function(n){return e.setProperties({_error:n&&n.body&&n.body.message?n.body.message:"Unknown error"})})):this.$.email.invalid=!0}},{key:"_verificationEmailSent",value:function(){this.setProperties({_requestInProgress:!1,_password:""}),this.fire("cloud-done",{flashMessage:this.hass.localize("ui.panel.config.cloud.register.account_created")})}}])&&p(n.prototype,r),i&&p(n,i),s}((0,s.Z)((0,a.I)(i.H3)));customElements.define("cloud-register",y)},27322:function(e,n,r){"use strict";r.d(n,{R:function(){return o}});var o=function(e,n){return"https://".concat(e.config.version.includes("b")?"rc":e.config.version.includes("dev")?"next":"www",".home-assistant.io").concat(n)}}}]);
//# sourceMappingURL=b7eef036.js.map