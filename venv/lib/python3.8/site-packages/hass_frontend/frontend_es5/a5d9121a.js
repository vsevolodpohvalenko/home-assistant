/*! For license information please see a5d9121a.js.LICENSE.txt */
(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([[6215,3098,1139,5713,2946,2887],{38323:function(e,t,n){"use strict";n(94604);(0,n(9672).k)({is:"iron-media-query",properties:{queryMatches:{type:Boolean,value:!1,readOnly:!0,notify:!0},query:{type:String,observer:"queryChanged"},full:{type:Boolean,value:!1},_boundMQHandler:{value:function(){return this.queryHandler.bind(this)}},_mq:{value:null}},attached:function(){this.style.display="none",this.queryChanged()},detached:function(){this._remove()},_add:function(){this._mq&&this._mq.addListener(this._boundMQHandler)},_remove:function(){this._mq&&this._mq.removeListener(this._boundMQHandler),this._mq=null},queryChanged:function(){this._remove();var e=this.query;e&&(this.full||"("===e[0]||(e="("+e+")"),this._mq=window.matchMedia(e),this._add(),this.queryHandler(this._mq))},queryHandler:function(e){this._setQueryMatches(e.matches)}})},8878:function(e,t,n){"use strict";n(94604),n(8621),n(63207),n(30879),n(78814),n(60748),n(57548),n(73962);var o,i=n(51644),r=n(26110),a=n(21006),s=n(98235),l=n(18890),u=n(9672),c=n(87156),d=n(81668),h=n(50856),f=n(62276);var p,y,v=(0,l.x)(HTMLElement);(0,u.k)({_template:(0,h.d)(o||(p=['\n    <style include="paper-dropdown-menu-shared-styles"></style>\n\n    <paper-menu-button id="menuButton" vertical-align="[[verticalAlign]]" horizontal-align="[[horizontalAlign]]" dynamic-align="[[dynamicAlign]]" vertical-offset="[[_computeMenuVerticalOffset(noLabelFloat, verticalOffset)]]" disabled="[[disabled]]" no-animations="[[noAnimations]]" on-iron-select="_onIronSelect" on-iron-deselect="_onIronDeselect" opened="{{opened}}" close-on-activate allow-outside-scroll="[[allowOutsideScroll]]" restore-focus-on-close="[[restoreFocusOnClose]]" expand-sizing-target-for-scrollbars="[[expandSizingTargetForScrollbars]]">\n      \x3c!-- support hybrid mode: user might be using paper-menu-button 1.x which distributes via <content> --\x3e\n      <div class="dropdown-trigger" slot="dropdown-trigger">\n        <paper-ripple></paper-ripple>\n        \x3c!-- paper-input has type="text" for a11y, do not remove --\x3e\n        <paper-input id="input" type="text" invalid="[[invalid]]" readonly disabled="[[disabled]]" value="[[value]]" placeholder="[[placeholder]]" error-message="[[errorMessage]]" always-float-label="[[alwaysFloatLabel]]" no-label-float="[[noLabelFloat]]" label="[[label]]" input-role="button" input-aria-haspopup="listbox" autocomplete="off">\n          \x3c!-- support hybrid mode: user might be using paper-input 1.x which distributes via <content> --\x3e\n          <iron-icon icon="paper-dropdown-menu:arrow-drop-down" suffix slot="suffix"></iron-icon>\n        </paper-input>\n      </div>\n      <slot id="content" name="dropdown-content" slot="dropdown-content"></slot>\n    </paper-menu-button>\n'],y||(y=p.slice(0)),o=Object.freeze(Object.defineProperties(p,{raw:{value:Object.freeze(y)}})))),is:"paper-dropdown-menu",behaviors:[i.P,r.a,a.V,s.x],properties:{selectedItemLabel:{type:String,notify:!0,readOnly:!0},selectedItem:{type:Object,notify:!0,readOnly:!0},value:{type:String,notify:!0},label:{type:String},placeholder:{type:String},errorMessage:{type:String},opened:{type:Boolean,notify:!0,value:!1,observer:"_openedChanged"},allowOutsideScroll:{type:Boolean,value:!1},noLabelFloat:{type:Boolean,value:!1,reflectToAttribute:!0},alwaysFloatLabel:{type:Boolean,value:!1},noAnimations:{type:Boolean,value:!1},horizontalAlign:{type:String,value:"right"},verticalAlign:{type:String,value:"top"},verticalOffset:Number,dynamicAlign:{type:Boolean},restoreFocusOnClose:{type:Boolean,value:!0},expandSizingTargetForScrollbars:{type:Boolean,value:!1}},listeners:{tap:"_onTap"},keyBindings:{"up down":"open",esc:"close"},observers:["_selectedItemChanged(selectedItem)"],_attachDom:function(e){var t=(0,f.r)(this);return t.attachShadow({mode:"open",delegatesFocus:!0,shadyUpgradeFragment:e}),t.shadowRoot.appendChild(e),v.prototype._attachDom.call(this,e)},focus:function(){this.$.input._focusableElement.focus()},attached:function(){var e=this.contentElement;e&&e.selectedItem&&this._setSelectedItem(e.selectedItem)},get contentElement(){for(var e=(0,c.vz)(this.$.content).getDistributedNodes(),t=0,n=e.length;t<n;t++)if(e[t].nodeType===Node.ELEMENT_NODE)return e[t]},open:function(){this.$.menuButton.open()},close:function(){this.$.menuButton.close()},_onIronSelect:function(e){this._setSelectedItem(e.detail.item)},_onIronDeselect:function(e){this._setSelectedItem(null)},_onTap:function(e){d.nJ(e)===this&&this.open()},_selectedItemChanged:function(e){var t="";t=e?e.label||e.getAttribute("label")||e.textContent.trim():"",this.value=t,this._setSelectedItemLabel(t)},_computeMenuVerticalOffset:function(e,t){return t||(e?-4:8)},_getValidity:function(e){return this.disabled||!this.required||this.required&&!!this.value},_openedChanged:function(){var e=this.opened?"true":"false",t=this.contentElement;t&&t.setAttribute("aria-expanded",e)}})},33760:function(e,t,n){"use strict";n.d(t,{U:function(){return r}});n(94604);var o=n(51644),i=n(26110),r=[o.P,i.a,{hostAttributes:{role:"option",tabindex:"0"}}]},97968:function(e,t,n){"use strict";n(65660),n(70019);var o=document.createElement("template");o.setAttribute("style","display: none;"),o.innerHTML="<dom-module id=\"paper-item-shared-styles\">\n  <template>\n    <style>\n      :host, .paper-item {\n        display: block;\n        position: relative;\n        min-height: var(--paper-item-min-height, 48px);\n        padding: 0px 16px;\n      }\n\n      .paper-item {\n        @apply --paper-font-subhead;\n        border:none;\n        outline: none;\n        background: white;\n        width: 100%;\n        text-align: left;\n      }\n\n      :host([hidden]), .paper-item[hidden] {\n        display: none !important;\n      }\n\n      :host(.iron-selected), .paper-item.iron-selected {\n        font-weight: var(--paper-item-selected-weight, bold);\n\n        @apply --paper-item-selected;\n      }\n\n      :host([disabled]), .paper-item[disabled] {\n        color: var(--paper-item-disabled-color, var(--disabled-text-color));\n\n        @apply --paper-item-disabled;\n      }\n\n      :host(:focus), .paper-item:focus {\n        position: relative;\n        outline: 0;\n\n        @apply --paper-item-focused;\n      }\n\n      :host(:focus):before, .paper-item:focus:before {\n        @apply --layout-fit;\n\n        background: currentColor;\n        content: '';\n        opacity: var(--dark-divider-opacity);\n        pointer-events: none;\n\n        @apply --paper-item-focused-before;\n      }\n    </style>\n  </template>\n</dom-module>",document.head.appendChild(o.content)},53973:function(e,t,n){"use strict";n(94604),n(65660),n(97968);var o,i,r,a=n(9672),s=n(50856),l=n(33760);(0,a.k)({_template:(0,s.d)(o||(i=['\n    <style include="paper-item-shared-styles">\n      :host {\n        @apply --layout-horizontal;\n        @apply --layout-center;\n        @apply --paper-font-subhead;\n\n        @apply --paper-item;\n      }\n    </style>\n    <slot></slot>\n'],r||(r=i.slice(0)),o=Object.freeze(Object.defineProperties(i,{raw:{value:Object.freeze(r)}})))),is:"paper-item",behaviors:[l.U]})},51095:function(e,t,n){"use strict";n(94604);var o,i,r,a=n(78161),s=n(9672),l=n(50856);(0,s.k)({_template:(0,l.d)(o||(i=["\n    <style>\n      :host {\n        display: block;\n        padding: 8px 0;\n\n        background: var(--paper-listbox-background-color, var(--primary-background-color));\n        color: var(--paper-listbox-color, var(--primary-text-color));\n\n        @apply --paper-listbox;\n      }\n    </style>\n\n    <slot></slot>\n"],r||(r=i.slice(0)),o=Object.freeze(Object.defineProperties(i,{raw:{value:Object.freeze(r)}})))),is:"paper-listbox",behaviors:[a.i],hostAttributes:{role:"listbox"}})},63670:function(e,t,n){"use strict";var o,i,r,a=n(89229);n(85408);(0,a.hC)("vaadin-date-picker-overlay",(0,a.iv)(o||(i=["\n    :host([fullscreen]) {\n      top: 0 !important;\n      right: 0 !important;\n      bottom: var(--vaadin-overlay-viewport-bottom) !important;\n      left: 0 !important;\n      align-items: stretch;\n      justify-content: stretch;\n    }\n\n    [part='overlay'] {\n      overflow: hidden;\n      -webkit-overflow-scrolling: auto;\n    }\n\n    :host(:not([fullscreen])) [part='overlay'] {\n      width: 360px;\n      max-height: 500px;\n      border-radius: 0 4px 4px;\n    }\n\n    :host(:not([fullscreen])[right-aligned]) [part='overlay'] {\n      border-radius: 4px 0 4px 4px;\n    }\n\n    :host(:not([fullscreen])[bottom-aligned]) [part='overlay'] {\n      border-radius: 4px;\n    }\n\n    :host(:not([fullscreen])[show-week-numbers]) [part='overlay'] {\n      width: 396px;\n    }\n\n    [part='content'] {\n      padding: 0;\n    }\n  "],r||(r=i.slice(0)),o=Object.freeze(Object.defineProperties(i,{raw:{value:Object.freeze(r)}})))),{include:["material-overlay"],moduleId:"material-date-picker-overlay"});var s;n(85466),n(37365);(0,a.hC)("vaadin-button",(0,a.iv)(s||(s=function(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n    :host {\n      padding: 8px;\n      min-width: 64px;\n      box-sizing: border-box;\n      display: inline-flex;\n      align-items: baseline;\n      justify-content: center;\n      border-radius: 4px;\n      color: var(--material-primary-text-color);\n      font-family: var(--material-font-family);\n      text-transform: uppercase;\n      font-size: var(--material-button-font-size);\n      line-height: 20px;\n      font-weight: 500;\n      letter-spacing: 0.05em;\n      white-space: nowrap;\n      overflow: hidden;\n      transition: box-shadow 0.2s;\n      -webkit-tap-highlight-color: transparent;\n      -webkit-font-smoothing: antialiased;\n      -moz-osx-font-smoothing: grayscale;\n    }\n\n    @-moz-document url-prefix() {\n      :host {\n        vertical-align: -13px;\n      }\n    }\n\n    :host::before,\n    :host::after {\n      content: '';\n      pointer-events: none;\n      position: absolute;\n      border-radius: inherit;\n      opacity: 0;\n      background-color: currentColor;\n    }\n\n    :host::before {\n      width: 100%;\n      height: 100%;\n      top: 0;\n      left: 0;\n      transition: opacity 0.5s;\n    }\n\n    :host::after {\n      border-radius: 50%;\n      width: 320px;\n      height: 320px;\n      top: 50%;\n      left: 50%;\n      transform: translate(-50%, -50%);\n      transition: all 0.9s;\n    }\n\n    [part='label'] ::slotted(*) {\n      vertical-align: middle;\n    }\n\n    :host(:hover)::before,\n    :host([focus-ring])::before {\n      opacity: 0.08;\n      transition-duration: 0.2s;\n    }\n\n    :host([active])::before {\n      opacity: 0.16;\n      transition: opacity 0.4s;\n    }\n\n    :host([active])::after {\n      transform: translate(-50%, -50%) scale(0.0000001); /* animation works weirdly with scale(0) */\n      opacity: 0.1;\n      transition: 0s;\n    }\n\n    :host(:hover:not([active]))::after {\n      transform: translate(-50%, -50%) scale(1);\n      opacity: 0;\n    }\n\n    :host([disabled]) {\n      pointer-events: none;\n      color: var(--material-disabled-text-color);\n    }\n\n    /* Contained and outline variants */\n    :host([theme~='contained']),\n    :host([theme~='outlined']) {\n      padding: 8px 16px;\n    }\n\n    :host([theme~='outlined']) {\n      box-shadow: inset 0 0 0 1px var(--_material-button-outline-color, rgba(0, 0, 0, 0.2));\n    }\n\n    :host([theme~='contained']:not([disabled])) {\n      background-color: var(--material-primary-color);\n      color: var(--material-primary-contrast-color);\n      box-shadow: var(--material-shadow-elevation-2dp);\n    }\n\n    :host([theme~='contained'][disabled]) {\n      background-color: var(--material-secondary-background-color);\n    }\n\n    :host([theme~='contained']:hover) {\n      box-shadow: var(--material-shadow-elevation-4dp);\n    }\n\n    :host([theme~='contained'][active]) {\n      box-shadow: var(--material-shadow-elevation-8dp);\n    }\n\n    /* Icon alignment */\n\n    [part] ::slotted(iron-icon) {\n      display: block;\n      width: 18px;\n      height: 18px;\n    }\n\n    [part='prefix'] ::slotted(iron-icon) {\n      margin-right: 8px;\n      margin-left: -4px;\n    }\n\n    [part='suffix'] ::slotted(iron-icon) {\n      margin-left: 8px;\n      margin-right: -4px;\n    }\n\n    /* RTL specific styles */\n\n    :host([dir='rtl'])::before {\n      left: auto;\n      right: 0;\n    }\n\n    :host([dir='rtl'])::after {\n      left: auto;\n      right: 50%;\n      transform: translate(50%, -50%);\n    }\n\n    :host([active][dir='rtl'])::after {\n      transform: translate(50%, -50%) scale(0.0000001);\n    }\n\n    :host(:hover:not([active])[dir='rtl'])::after {\n      transform: translate(50%, -50%) scale(1);\n    }\n\n    :host([dir='rtl']) [part='prefix'] ::slotted(iron-icon) {\n      margin-right: -4px;\n      margin-left: 8px;\n    }\n\n    :host([dir='rtl']) [part='suffix'] ::slotted(iron-icon) {\n      margin-left: -4px;\n      margin-right: 8px;\n    }\n  "]))),{moduleId:"material-button"});var l=n(28426),u=n(60995),c=n(81668),d=n(4358);function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t,n){return(f="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var o=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=w(e)););return e}(e,t);if(o){var i=Object.getOwnPropertyDescriptor(o,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function v(e,t,n){return t&&y(e.prototype,t),n&&y(e,n),e}function b(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=w(e);if(t){var i=w(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return g(this,n)}}function g(e,t){return!t||"object"!==h(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var k=!1;window.addEventListener("keydown",(function(){k=!0}),{capture:!0}),window.addEventListener("mousedown",(function(){k=!1}),{capture:!0});var D=n(21683),x=n(78956),O=/\/\*\*\s+vaadin-dev-mode:start([\s\S]*)vaadin-dev-mode:end\s+\*\*\//i,S=window.Vaadin&&window.Vaadin.Flow&&window.Vaadin.Flow.clients;function C(e,t){if("function"==typeof e){var n=O.exec(e.toString());if(n)try{e=new Function(n[1])}catch(o){console.log("vaadin-development-mode-detector: uncommentAndRun() failed",o)}return e(t)}}window.Vaadin=window.Vaadin||{};var E=function(e,t){if(window.Vaadin.developmentMode)return C(e,t)};function P(){}void 0===window.Vaadin.developmentMode&&(window.Vaadin.developmentMode=function(){try{return!!localStorage.getItem("vaadin.developmentmode.force")||["localhost","127.0.0.1"].indexOf(window.location.hostname)>=0&&(S?!(S&&Object.keys(S).map((function(e){return S[e]})).filter((function(e){return e.productionMode})).length>0):!C((function(){return!0})))}catch(e){return!1}}());var T,M=n(59898);function j(e){return(j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function A(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function I(e,t){return(I=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function F(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=$(e);if(t){var i=$(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return z(this,n)}}function z(e,t){return!t||"object"!==j(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function R(e,t,n){return(R="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var o=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=$(e)););return e}(e,t);if(o){var i=Object.getOwnPropertyDescriptor(o,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function $(e){return($=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}window.Vaadin=window.Vaadin||{},window.Vaadin.registrations=window.Vaadin.registrations||[],window.Vaadin.developmentModeCallback=window.Vaadin.developmentModeCallback||{},window.Vaadin.developmentModeCallback["vaadin-usage-statistics"]=function(){E(P)};var B,Y=new Set;function V(e){return(V="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function H(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function L(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function W(e,t,n){return(W="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var o=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=K(e)););return e}(e,t);if(o){var i=Object.getOwnPropertyDescriptor(o,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function N(e,t){return(N=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function q(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=K(e);if(t){var i=K(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return X(this,n)}}function X(e,t){return!t||"object"!==V(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function K(e){return(K=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var U,G,Q=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&N(e,t)}(r,e);var t,n,o,i=q(r);function r(){return H(this,r),i.apply(this,arguments)}return t=r,o=[{key:"template",get:function(){return(0,l.dy)(B||(B=function(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(['\n      <style>\n        :host {\n          display: inline-block;\n          position: relative;\n          outline: none;\n          white-space: nowrap;\n        }\n\n        :host([hidden]) {\n          display: none !important;\n        }\n\n        /* Ensure the button is always aligned on the baseline */\n        .vaadin-button-container::before {\n          content: \'\\2003\';\n          display: inline-block;\n          width: 0;\n        }\n\n        .vaadin-button-container {\n          display: inline-flex;\n          align-items: center;\n          justify-content: center;\n          text-align: center;\n          width: 100%;\n          height: 100%;\n          min-height: inherit;\n          text-shadow: inherit;\n          -webkit-user-select: none;\n          -moz-user-select: none;\n          user-select: none;\n        }\n\n        [part=\'prefix\'],\n        [part=\'suffix\'] {\n          flex: none;\n        }\n\n        [part=\'label\'] {\n          white-space: nowrap;\n          overflow: hidden;\n          text-overflow: ellipsis;\n        }\n\n        #button {\n          position: absolute;\n          top: 0;\n          left: 0;\n          right: 0;\n          width: 100%;\n          height: 100%;\n          opacity: 0;\n          cursor: inherit;\n        }\n      </style>\n      <div class="vaadin-button-container">\n        <div part="prefix">\n          <slot name="prefix"></slot>\n        </div>\n        <div part="label">\n          <slot></slot>\n        </div>\n        <div part="suffix">\n          <slot name="suffix"></slot>\n        </div>\n      </div>\n      <button id="button" type="button"></button>\n    '],['\n      <style>\n        :host {\n          display: inline-block;\n          position: relative;\n          outline: none;\n          white-space: nowrap;\n        }\n\n        :host([hidden]) {\n          display: none !important;\n        }\n\n        /* Ensure the button is always aligned on the baseline */\n        .vaadin-button-container::before {\n          content: \'\\\\2003\';\n          display: inline-block;\n          width: 0;\n        }\n\n        .vaadin-button-container {\n          display: inline-flex;\n          align-items: center;\n          justify-content: center;\n          text-align: center;\n          width: 100%;\n          height: 100%;\n          min-height: inherit;\n          text-shadow: inherit;\n          -webkit-user-select: none;\n          -moz-user-select: none;\n          user-select: none;\n        }\n\n        [part=\'prefix\'],\n        [part=\'suffix\'] {\n          flex: none;\n        }\n\n        [part=\'label\'] {\n          white-space: nowrap;\n          overflow: hidden;\n          text-overflow: ellipsis;\n        }\n\n        #button {\n          position: absolute;\n          top: 0;\n          left: 0;\n          right: 0;\n          width: 100%;\n          height: 100%;\n          opacity: 0;\n          cursor: inherit;\n        }\n      </style>\n      <div class="vaadin-button-container">\n        <div part="prefix">\n          <slot name="prefix"></slot>\n        </div>\n        <div part="label">\n          <slot></slot>\n        </div>\n        <div part="suffix">\n          <slot name="suffix"></slot>\n        </div>\n      </div>\n      <button id="button" type="button"></button>\n    '])))}},{key:"is",get:function(){return"vaadin-button"}},{key:"version",get:function(){return"20.0.1"}}],(n=[{key:"ready",value:function(){W(K(r.prototype),"ready",this).call(this),this.setAttribute("role","button"),this.$.button.setAttribute("role","presentation"),this._addActiveListeners()}},{key:"disconnectedCallback",value:function(){W(K(r.prototype),"disconnectedCallback",this).call(this),this.toggleAttribute("active",!1)}},{key:"_addActiveListeners",value:function(){var e=this;(0,c.NH)(this,"down",(function(){return!e.disabled&&e.setAttribute("active","")})),(0,c.NH)(this,"up",(function(){return e.removeAttribute("active")})),this.addEventListener("keydown",(function(t){return!e.disabled&&[13,32].indexOf(t.keyCode)>=0&&e.setAttribute("active","")})),this.addEventListener("keyup",(function(){return e.removeAttribute("active")})),this.addEventListener("blur",(function(){return e.removeAttribute("active")}))}},{key:"focusElement",get:function(){return this.$.button}}])&&L(t.prototype,n),o&&L(t,o),r}(function(e){return function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&I(e,t)}(r,e);var t,n,o,i=F(r);function r(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),e=i.call(this),null===document.doctype&&console.warn('Vaadin components require the "standards mode" declaration. Please add <!DOCTYPE html> to the HTML document.'),e}return t=r,o=[{key:"finalize",value:function(){R($(r),"finalize",this).call(this);var e=this.is;e&&!Y.has(e)&&(window.Vaadin.registrations.push(this),Y.add(e),window.Vaadin.developmentModeCallback&&(T=x.dx.debounce(T,D.t$,(function(){window.Vaadin.developmentModeCallback["vaadin-usage-statistics"]()})),(0,x.Ex)(T)))}}],(n=null)&&A(t.prototype,n),o&&A(t,o),r}((0,M.U)(e))}(function(e){b(n,e);var t=_(n);function n(){return p(this,n),t.apply(this,arguments)}return v(n,[{key:"ready",value:function(){var e=this;this.addEventListener("focusin",(function(t){t.composedPath()[0]===e?e.contains(t.relatedTarget)||e._focus():-1===t.composedPath().indexOf(e.focusElement)||e.disabled||e._setFocused(!0)})),this.addEventListener("focusout",(function(){return e._setFocused(!1)})),f(w(n.prototype),"ready",this).call(this),this.addEventListener("keydown",(function(t){!t.defaultPrevented&&9===t.keyCode&&t.shiftKey&&(e._isShiftTabbing=!0,HTMLElement.prototype.focus.apply(e),e._setFocused(!1),setTimeout((function(){return e._isShiftTabbing=!1}),0))})),this.autofocus&&!this.disabled&&window.requestAnimationFrame((function(){e._focus(),e._setFocused(!0),e.setAttribute("focus-ring","")}))}},{key:"disconnectedCallback",value:function(){f(w(n.prototype),"disconnectedCallback",this).call(this),this.hasAttribute("focused")&&this._setFocused(!1)}},{key:"_setFocused",value:function(e){e?this.setAttribute("focused",""):this.removeAttribute("focused"),e&&k?this.setAttribute("focus-ring",""):this.removeAttribute("focus-ring")}},{key:"focusElement",get:function(){return window.console.warn("Please implement the 'focusElement' property in <".concat(this.localName,">")),this}},{key:"_focus",value:function(){this.focusElement&&!this._isShiftTabbing&&(this.focusElement.focus(),this._setFocused(!0))}},{key:"focus",value:function(){this.focusElement&&!this.disabled&&(this.focusElement.focus(),this._setFocused(!0))}},{key:"blur",value:function(){this.focusElement&&(this.focusElement.blur(),this._setFocused(!1))}},{key:"_disabledChanged",value:function(e){this.focusElement.disabled=e,e?(this.blur(),this._previousTabIndex=this.tabindex,this.tabindex=-1,this.setAttribute("aria-disabled","true")):(void 0!==this._previousTabIndex&&(this.tabindex=this._previousTabIndex),this.removeAttribute("aria-disabled"))}},{key:"_tabindexChanged",value:function(e){void 0!==e&&(this.focusElement.tabIndex=e),this.disabled&&this.tabindex&&(-1!==this.tabindex&&(this._previousTabIndex=this.tabindex),this.tabindex=e=void 0)}},{key:"click",value:function(){this.disabled||f(w(n.prototype),"click",this).call(this)}}],[{key:"properties",get:function(){return{autofocus:{type:Boolean},_previousTabIndex:{type:Number},disabled:{type:Boolean,observer:"_disabledChanged",reflectToAttribute:!0},_isShiftTabbing:{type:Boolean}}}}]),n}(function(e){return function(e){b(n,e);var t=_(n);function n(){return p(this,n),t.apply(this,arguments)}return v(n,null,[{key:"properties",get:function(){return{tabindex:{type:Number,value:0,reflectToAttribute:!0,observer:"_tabindexChanged"}}}}]),n}(e)}((0,d.T)((0,u._)(l.H3))))));customElements.define(Q.is,Q),(0,a.hC)("vaadin-date-picker-overlay-content",(0,a.iv)(U||(U=function(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n    :host {\n      font-family: var(--material-font-family);\n      font-size: var(--material-body-font-size);\n      -webkit-text-size-adjust: 100%;\n      line-height: 1.4;\n\n      /* FIXME(platosha): fix the core styles and remove this override. */\n      background: transparent;\n    }\n\n    :host([fullscreen]) {\n      position: absolute;\n    }\n\n    /* Fullscreen Toolbar */\n\n    [part='overlay-header'] {\n      display: flex;\n      align-items: baseline;\n      position: relative;\n      z-index: 2;\n      color: var(--material-body-text-color);\n      background: var(--material-secondary-background-color);\n      border-bottom: 2px solid var(--material-primary-color);\n      padding: 8px;\n      box-shadow: var(--material-shadow-elevation-4dp);\n    }\n\n    /* FIXME(platosha): fix the core styles and remove this override. */\n    [part='overlay-header']:not([desktop]) {\n      padding-bottom: 8px;\n    }\n\n    [part='label'] {\n      padding: 0 8px;\n      flex: auto;\n    }\n\n    [part='clear-button'],\n    [part='toggle-button'] {\n      font-family: 'material-icons';\n      font-size: var(--material-icon-font-size);\n      line-height: 24px;\n      width: 24px;\n      height: 24px;\n      text-align: center;\n    }\n\n    [part='clear-button'],\n    [part='toggle-button'],\n    [part='years-toggle-button'] {\n      padding: 8px;\n      color: var(--material-secondary-text-color);\n    }\n\n    [part='clear-button']:hover,\n    [part='toggle-button']:hover,\n    [part='years-toggle-button']:hover {\n      color: inherit;\n    }\n\n    [part='clear-button']::before {\n      content: var(--material-icons-clear);\n    }\n\n    [part='toggle-button']::before {\n      content: var(--material-icons-calendar);\n    }\n\n    [part='years-toggle-button'] {\n      position: static;\n      padding: 4px 8px;\n      font-size: var(--material-body-font-size);\n      font-weight: 500;\n      line-height: 24px;\n      letter-spacing: 0.05em;\n      color: var(--material-secondary-text-color);\n    }\n\n    [part='years-toggle-button']::before {\n      content: '';\n      display: none;\n    }\n\n    [part='years-toggle-button']::after {\n      content: var(--material-icons-play);\n      display: inline-block;\n      width: 24px;\n      font-family: 'material-icons';\n      font-size: var(--material-icon-font-size);\n      line-height: 24px;\n      text-align: center;\n      transition: transform 100ms cubic-bezier(0.4, 0, 0.2, 1);\n    }\n\n    :host([years-visible]) [part='years-toggle-button']::after {\n      transform: rotate(90deg);\n    }\n\n    /* Month scroller */\n\n    [part='months'] {\n      --vaadin-infinite-scroller-item-height: 320px;\n      text-align: center;\n    }\n\n    /* Year scroller */\n\n    [part='years'] {\n      z-index: 1;\n      background: var(--material-secondary-text-color);\n      color: var(--material-background-color);\n      text-align: center;\n    }\n\n    [part='years']::before {\n      z-index: 2;\n      border: 0;\n      width: 8px;\n      height: 8px;\n      transform: translateX(-50%) rotate(-45deg);\n      background: var(--material-background-color);\n    }\n\n    :host([years-visible]) [part='years']::after {\n      top: calc(20px + 16px);\n      height: calc(100% - 20px - 16px);\n    }\n\n    [part='year-number'] {\n      font-size: var(--material-small-font-size);\n      line-height: 10px; /* NOTE(platosha): chosen to align years to months */\n    }\n\n    [part='year-separator'] {\n      background-color: currentColor;\n      width: 4px;\n      height: 4px;\n      border-radius: 50%;\n      margin: calc(0.5 * var(--vaadin-infinite-scroller-item-height, 80px) - 0.5 * 10px - 0.5 * 4px) auto;\n    }\n\n    /* Bottom Bar */\n\n    [part='toolbar'] {\n      display: flex;\n      justify-content: flex-end;\n      padding: 8px 4px;\n      border-top: 1px solid var(--material-divider-color);\n    }\n\n    [part='cancel-button'] {\n      order: 1;\n    }\n\n    [part='today-button'] {\n      order: 2;\n    }\n\n    [part='today-button'],\n    [part='cancel-button'] {\n      margin: 0 4px;\n    }\n  "]))),{moduleId:"material-date-picker-overlay-content"}),(0,a.hC)("vaadin-month-calendar",(0,a.iv)(G||(G=function(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n    :host {\n      color: var(--material-body-text-color);\n      padding: 0 calc(50% / 8 - 0.5em + 8px);\n    }\n\n    :host([show-week-numbers]) {\n      padding: 0 calc(50% / 9 - 0.5em + 8px);\n    }\n\n    [part='month-header'] {\n      font-size: var(--material-h6-font-size);\n      line-height: 1;\n      padding-top: 20px;\n      margin-bottom: 8px;\n    }\n\n    [part='week-number'],\n    [part='weekday'] {\n      font-size: var(--material-caption-font-size);\n      line-height: 44px;\n      height: 40px;\n      color: var(--material-secondary-text-color);\n    }\n\n    :host([disabled]),\n    :host([disabled]) [part='week-number'],\n    :host([disabled]) [part='weekday'] {\n      color: var(--material-disabled-text-color);\n    }\n\n    [part='date'] {\n      position: relative;\n      font-size: var(--material-body-font-size);\n      line-height: 42px;\n      height: 40px;\n      cursor: default;\n    }\n\n    [part='date']::after {\n      content: '';\n      position: absolute;\n      z-index: -4;\n      top: 50%;\n      left: 50%;\n      transform: translate(-50%, -50%);\n      width: 38px;\n      height: 38px;\n      box-sizing: border-box;\n      border-radius: 50%;\n      border: 2px solid transparent;\n    }\n\n    /* Today */\n\n    [part='date'][today] {\n      color: var(--material-primary-text-color);\n    }\n\n    /* Hover */\n\n    [part='date']:not([disabled]):hover::after {\n      background-color: var(--material-secondary-background-color);\n      border-color: var(--material-secondary-background-color);\n      z-index: -3;\n    }\n\n    /* Hide for touch devices */\n    @media (hover: none) {\n      [part='date']:not([disabled]):hover::after {\n        background-color: transparent;\n        border-color: transparent;\n        z-index: -4;\n      }\n    }\n\n    /* Selected */\n\n    [part='date'][selected] {\n      font-weight: 500;\n    }\n\n    [part='date']:not([disabled])[selected]::after,\n    [part='date'][selected]::after {\n      background-color: transparent;\n      border-color: currentColor;\n      z-index: -2;\n    }\n\n    /* Focused */\n\n    [part='date']:not([disabled])[focused],\n    [part='date']:not([disabled]):active {\n      color: var(--material-primary-contrast-color);\n    }\n\n    [part='date']:not([disabled])[focused]::after,\n    [part='date']:not([disabled]):active::after {\n      opacity: 0.7;\n      background-color: var(--material-primary-color);\n      border-color: var(--material-primary-color);\n      z-index: -1;\n    }\n\n    [part='date'][disabled] {\n      color: var(--material-disabled-text-color);\n    }\n\n    :host([focused]) [part='date']:not([disabled])[focused]::after {\n      opacity: 1;\n    }\n  "]))),{moduleId:"material-date-picker-month-calendar"});var J=n(67130),Z=(n(38323),n(1335));function ee(e){return(ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function te(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ne(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function oe(e,t){return(oe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ie(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=ae(e);if(t){var i=ae(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return re(this,n)}}function re(e,t){return!t||"object"!==ee(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ae(e){return(ae=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var se=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&oe(e,t)}(r,e);var t,n,o,i=ie(r);function r(){return te(this,r),i.apply(this,arguments)}return t=r,o=[{key:"is",get:function(){return"vaadin-date-picker-overlay"}}],(n=null)&&ne(t.prototype,n),o&&ne(t,o),r}((0,n(16777).f)(Z.G));customElements.define(se.is,se);var le,ue=n(8621),ce=n(23916);n(42173);function de(e){var t=e.getDay();0===t&&(t=7);var n=4-t,o=new Date(e.getTime()+24*n*3600*1e3),i=new Date(0,0);i.setFullYear(o.getFullYear());var r=o.getTime()-i.getTime(),a=Math.round(r/864e5);return Math.floor(a/7+1)}function he(e,t){return e instanceof Date&&t instanceof Date&&e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate()}function fe(e,t,n){return(!t||e>=t)&&(!n||e<=n)}function pe(e,t){return t.filter((function(e){return void 0!==e})).reduce((function(t,n){return n?t?Math.abs(e.getTime()-n.getTime())<Math.abs(t.getTime()-e.getTime())?n:t:n:t}))}function ye(e){return{day:e.getDate(),month:e.getMonth(),year:e.getFullYear()}}function ve(e){return(ve="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function be(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function me(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _e(e,t){return(_e=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ge(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=ke(e);if(t){var i=ke(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return we(this,n)}}function we(e,t){return!t||"object"!==ve(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ke(e){return(ke=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var De=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_e(e,t)}(r,e);var t,n,o,i=ge(r);function r(){return be(this,r),i.apply(this,arguments)}return t=r,o=[{key:"template",get:function(){return(0,l.dy)(le||(le=function(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(['\n      <style>\n        :host {\n          display: block;\n        }\n\n        [part=\'weekdays\'],\n        #days {\n          display: flex;\n          flex-wrap: wrap;\n          flex-grow: 1;\n        }\n\n        #days-container,\n        #weekdays-container {\n          display: flex;\n        }\n\n        [part=\'week-numbers\'] {\n          display: flex;\n          flex-direction: column;\n          justify-content: space-between;\n          flex-shrink: 0;\n        }\n\n        [part=\'week-numbers\'][hidden],\n        [part=\'weekday\'][hidden] {\n          display: none;\n        }\n\n        [part=\'weekday\'],\n        [part=\'date\'] {\n          /* Would use calc(100% / 7) but it doesn\'t work nice on IE */\n          width: 14.285714286%;\n        }\n\n        [part=\'weekday\']:empty,\n        [part=\'week-numbers\'] {\n          width: 12.5%;\n          flex-shrink: 0;\n        }\n      </style>\n\n      <div part="month-header" role="heading">[[_getTitle(month, i18n.monthNames)]]</div>\n      <div id="monthGrid" on-tap="_handleTap" on-touchend="_preventDefault" on-touchstart="_onMonthGridTouchStart">\n        <div id="weekdays-container">\n          <div hidden$="[[!_showWeekSeparator(showWeekNumbers, i18n.firstDayOfWeek)]]" part="weekday"></div>\n          <div part="weekdays">\n            <template\n              is="dom-repeat"\n              items="[[_getWeekDayNames(i18n.weekdays, i18n.weekdaysShort, showWeekNumbers, i18n.firstDayOfWeek)]]"\n            >\n              <div part="weekday" role="heading" aria-label$="[[item.weekDay]]">[[item.weekDayShort]]</div>\n            </template>\n          </div>\n        </div>\n        <div id="days-container">\n          <div part="week-numbers" hidden$="[[!_showWeekSeparator(showWeekNumbers, i18n.firstDayOfWeek)]]">\n            <template is="dom-repeat" items="[[_getWeekNumbers(_days)]]">\n              <div part="week-number" role="heading" aria-label$="[[i18n.week]] [[item]]">[[item]]</div>\n            </template>\n          </div>\n          <div id="days">\n            <template is="dom-repeat" items="[[_days]]">\n              \x3c!-- prettier-ignore --\x3e\n              <div\n                part="date"\n                today$="[[_isToday(item)]]"\n                selected$="[[_dateEquals(item, selectedDate)]]"\n                focused$="[[_dateEquals(item, focusedDate)]]"\n                date="[[item]]"\n                disabled$="[[!_dateAllowed(item, minDate, maxDate)]]"\n                role$="[[_getRole(item)]]"\n                aria-label$="[[_getAriaLabel(item)]]"\n                aria-disabled$="[[_getAriaDisabled(item, minDate, maxDate)]]">[[_getDate(item)]]</div>\n            </template>\n          </div>\n        </div>\n      </div>\n    '])))}},{key:"is",get:function(){return"vaadin-month-calendar"}},{key:"properties",get:function(){return{month:{type:Date,value:new Date},selectedDate:{type:Date,notify:!0},focusedDate:Date,showWeekNumbers:{type:Boolean,value:!1},i18n:{type:Object},ignoreTaps:Boolean,_notTapping:Boolean,minDate:{type:Date,value:null},maxDate:{type:Date,value:null},_days:{type:Array,computed:"_getDays(month, i18n.firstDayOfWeek, minDate, maxDate)"},disabled:{type:Boolean,reflectToAttribute:!0,computed:"_isDisabled(month, minDate, maxDate)"}}}},{key:"observers",get:function(){return["_showWeekNumbersChanged(showWeekNumbers, i18n.firstDayOfWeek)"]}}],(n=[{key:"_dateEquals",value:function(e,t){return he(e,t)}},{key:"_dateAllowed",value:function(e,t,n){return fe(e,t,n)}},{key:"_isDisabled",value:function(e,t,n){var o=new Date(0,0);o.setFullYear(e.getFullYear()),o.setMonth(e.getMonth()),o.setDate(1);var i=new Date(0,0);return i.setFullYear(e.getFullYear()),i.setMonth(e.getMonth()+1),i.setDate(0),!(t&&n&&t.getMonth()===n.getMonth()&&t.getMonth()===e.getMonth()&&n.getDate()-t.getDate()>=0||this._dateAllowed(o,t,n)||this._dateAllowed(i,t,n))}},{key:"_getTitle",value:function(e,t){if(void 0!==e&&void 0!==t)return this.i18n.formatTitle(t[e.getMonth()],e.getFullYear())}},{key:"_onMonthGridTouchStart",value:function(){var e=this;this._notTapping=!1,setTimeout((function(){return e._notTapping=!0}),300)}},{key:"_dateAdd",value:function(e,t){e.setDate(e.getDate()+t)}},{key:"_applyFirstDayOfWeek",value:function(e,t){if(void 0!==e&&void 0!==t)return e.slice(t).concat(e.slice(0,t))}},{key:"_getWeekDayNames",value:function(e,t,n,o){if(void 0!==e&&void 0!==t&&void 0!==n&&void 0!==o)return e=this._applyFirstDayOfWeek(e,o),t=this._applyFirstDayOfWeek(t,o),e=e.map((function(e,n){return{weekDay:e,weekDayShort:t[n]}}))}},{key:"_getDate",value:function(e){return e?e.getDate():""}},{key:"_showWeekNumbersChanged",value:function(e,t){e&&1===t?this.setAttribute("week-numbers",""):this.removeAttribute("week-numbers")}},{key:"_showWeekSeparator",value:function(e,t){return e&&1===t}},{key:"_isToday",value:function(e){return this._dateEquals(new Date,e)}},{key:"_getDays",value:function(e,t){if(void 0!==e&&void 0!==t){var n=new Date(0,0);for(n.setFullYear(e.getFullYear()),n.setMonth(e.getMonth()),n.setDate(1);n.getDay()!==t;)this._dateAdd(n,-1);for(var o=[],i=n.getMonth(),r=e.getMonth();n.getMonth()===r||n.getMonth()===i;)o.push(n.getMonth()===r?new Date(n.getTime()):null),this._dateAdd(n,1);return o}}},{key:"_getWeekNumber",value:function(e,t){if(void 0!==e&&void 0!==t)return e||(e=t.reduce((function(e,t){return!e&&t?t:e}))),de(e)}},{key:"_getWeekNumbers",value:function(e){var t=this;return e.map((function(n){return t._getWeekNumber(n,e)})).filter((function(e,t,n){return n.indexOf(e)===t}))}},{key:"_handleTap",value:function(e){this.ignoreTaps||this._notTapping||!e.target.date||e.target.hasAttribute("disabled")||(this.selectedDate=e.target.date,this.dispatchEvent(new CustomEvent("date-tap",{bubbles:!0,composed:!0})))}},{key:"_preventDefault",value:function(e){e.preventDefault()}},{key:"_getRole",value:function(e){return e?"button":"presentation"}},{key:"_getAriaLabel",value:function(e){if(!e)return"";var t=this._getDate(e)+" "+this.i18n.monthNames[e.getMonth()]+" "+e.getFullYear()+", "+this.i18n.weekdays[e.getDay()];return this._isToday(e)&&(t+=", "+this.i18n.today),t}},{key:"_getAriaDisabled",value:function(e,t,n){if(void 0!==e&&void 0!==t&&void 0!==n)return this._dateAllowed(e,t,n)?"false":"true"}}])&&me(t.prototype,n),o&&me(t,o),r}((0,d.T)((0,u._)(l.H3)));customElements.define(De.is,De);var xe,Oe=n(52521),Se=n(87529);function Ce(e){return(Ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ee(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Pe(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Te(e,t,n){return(Te="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var o=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Ie(e)););return e}(e,t);if(o){var i=Object.getOwnPropertyDescriptor(o,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function Me(e,t){return(Me=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function je(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=Ie(e);if(t){var i=Ie(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return Ae(this,n)}}function Ae(e,t){return!t||"object"!==Ce(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ie(e){return(Ie=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Fe,ze,Re=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Me(e,t)}(r,e);var t,n,o,i=je(r);function r(){return Ee(this,r),i.apply(this,arguments)}return t=r,o=[{key:"template",get:function(){return(0,l.dy)(xe||(xe=function(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(['\n      <style>\n        :host {\n          display: block;\n          overflow: hidden;\n          height: 500px;\n        }\n\n        #scroller {\n          position: relative;\n          height: 100%;\n          overflow: auto;\n          outline: none;\n          margin-right: -40px;\n          -webkit-overflow-scrolling: touch;\n          overflow-x: hidden;\n        }\n\n        #scroller.notouchscroll {\n          -webkit-overflow-scrolling: auto;\n        }\n\n        #scroller::-webkit-scrollbar {\n          display: none;\n        }\n\n        .buffer {\n          position: absolute;\n          width: var(--vaadin-infinite-scroller-buffer-width, 100%);\n          box-sizing: border-box;\n          padding-right: 40px;\n          top: var(--vaadin-infinite-scroller-buffer-offset, 0);\n          animation: fadein 0.2s;\n        }\n\n        @keyframes fadein {\n          from {\n            opacity: 0;\n          }\n          to {\n            opacity: 1;\n          }\n        }\n      </style>\n\n      <div id="scroller" on-scroll="_scroll">\n        <div class="buffer"></div>\n        <div class="buffer"></div>\n        <div id="fullHeight"></div>\n      </div>\n    '])))}},{key:"is",get:function(){return"vaadin-infinite-scroller"}},{key:"properties",get:function(){return{bufferSize:{type:Number,value:20},_initialScroll:{value:5e5},_initialIndex:{value:0},_buffers:Array,_preventScrollEvent:Boolean,_mayHaveMomentum:Boolean,_initialized:Boolean,active:{type:Boolean,observer:"_activated"}}}}],(n=[{key:"ready",value:function(){Te(Ie(r.prototype),"ready",this).call(this),this._buffers=Array.prototype.slice.call(this.root.querySelectorAll(".buffer")),this.$.fullHeight.style.height=2*this._initialScroll+"px";var e=this.querySelector("template");this._TemplateClass=(0,Oe.Uv)(e,this,{forwardHostProp:function(e,t){"index"!==e&&this._buffers.forEach((function(n){[].forEach.call(n.children,(function(n){n._itemWrapper.instance[e]=t}))}))}}),navigator.userAgent.toLowerCase().indexOf("firefox")>-1&&(this.$.scroller.tabIndex=-1)}},{key:"_activated",value:function(e){e&&!this._initialized&&(this._createPool(),this._initialized=!0)}},{key:"_finishInit",value:function(){var e=this;this._initDone||(this._buffers.forEach((function(t){[].forEach.call(t.children,(function(t){return e._ensureStampedInstance(t._itemWrapper)}))}),this),this._buffers[0].translateY||this._reset(),this._initDone=!0)}},{key:"_translateBuffer",value:function(e){var t=e?1:0;this._buffers[t].translateY=this._buffers[t?0:1].translateY+this._bufferHeight*(t?-1:1),this._buffers[t].style.transform="translate3d(0, "+this._buffers[t].translateY+"px, 0)",this._buffers[t].updated=!1,this._buffers.reverse()}},{key:"_scroll",value:function(){var e=this;if(!this._scrollDisabled){var t=this.$.scroller.scrollTop;(t<this._bufferHeight||t>2*this._initialScroll-this._bufferHeight)&&(this._initialIndex=~~this.position,this._reset());var n=this.root.querySelector(".buffer").offsetTop,o=t>this._buffers[1].translateY+this.itemHeight+n,i=t<this._buffers[0].translateY+this.itemHeight+n;(o||i)&&(this._translateBuffer(i),this._updateClones()),this._preventScrollEvent||(this.dispatchEvent(new CustomEvent("custom-scroll",{bubbles:!1,composed:!0})),this._mayHaveMomentum=!0),this._preventScrollEvent=!1,this._debouncerScrollFinish=x.dx.debounce(this._debouncerScrollFinish,D.Wc.after(200),(function(){var t=e.$.scroller.getBoundingClientRect();e._isVisible(e._buffers[0],t)||e._isVisible(e._buffers[1],t)||(e.position=e.position)}))}}},{key:"position",get:function(){return(this.$.scroller.scrollTop-this._buffers[0].translateY)/this.itemHeight+this._firstIndex},set:function(e){var t=this;this._preventScrollEvent=!0,e>this._firstIndex&&e<this._firstIndex+2*this.bufferSize?this.$.scroller.scrollTop=this.itemHeight*(e-this._firstIndex)+this._buffers[0].translateY:(this._initialIndex=~~e,this._reset(),this._scrollDisabled=!0,this.$.scroller.scrollTop+=e%1*this.itemHeight,this._scrollDisabled=!1),this._mayHaveMomentum&&(this.$.scroller.classList.add("notouchscroll"),this._mayHaveMomentum=!1,setTimeout((function(){t.$.scroller.classList.remove("notouchscroll")}),10))}},{key:"itemHeight",get:function(){if(!this._itemHeightVal){var e=getComputedStyle(this).getPropertyValue("--vaadin-infinite-scroller-item-height"),t="background-position";this.$.fullHeight.style.setProperty(t,e);var n=getComputedStyle(this.$.fullHeight).getPropertyValue(t);this.$.fullHeight.style.removeProperty(t),this._itemHeightVal=parseFloat(n)}return this._itemHeightVal}},{key:"_bufferHeight",get:function(){return this.itemHeight*this.bufferSize}},{key:"_reset",value:function(){var e=this;this._scrollDisabled=!0,this.$.scroller.scrollTop=this._initialScroll,this._buffers[0].translateY=this._initialScroll-this._bufferHeight,this._buffers[1].translateY=this._initialScroll,this._buffers.forEach((function(e){e.style.transform="translate3d(0, "+e.translateY+"px, 0)"})),this._buffers[0].updated=this._buffers[1].updated=!1,this._updateClones(!0),this._debouncerUpdateClones=x.dx.debounce(this._debouncerUpdateClones,D.Wc.after(200),(function(){e._buffers[0].updated=e._buffers[1].updated=!1,e._updateClones()})),this._scrollDisabled=!1}},{key:"_createPool",value:function(){var e=this,t=this.getBoundingClientRect();this._buffers.forEach((function(n){for(var o=function(o){var i=document.createElement("div");i.style.height=e.itemHeight+"px",i.instance={};var a="vaadin-infinite-scroller-item-content-"+(r._contentIndex=r._contentIndex+1||0),s=document.createElement("slot");s.setAttribute("name",a),s._itemWrapper=i,n.appendChild(s),i.setAttribute("slot",a),e.appendChild(i),setTimeout((function(){e._isVisible(i,t)&&e._ensureStampedInstance(i)}),1)},i=0;i<e.bufferSize;i++)o()}),this),setTimeout((function(){(0,Se.T8)(e,e._finishInit.bind(e))}),1)}},{key:"_ensureStampedInstance",value:function(e){if(!e.firstElementChild){var t=e.instance;e.instance=new this._TemplateClass({}),e.appendChild(e.instance.root),Object.keys(t).forEach((function(n){e.instance.set(n,t[n])}))}}},{key:"_updateClones",value:function(e){var t=this;this._firstIndex=~~((this._buffers[0].translateY-this._initialScroll)/this.itemHeight)+this._initialIndex;var n=e?this.$.scroller.getBoundingClientRect():void 0;this._buffers.forEach((function(o,i){if(!o.updated){var r=t._firstIndex+t.bufferSize*i;[].forEach.call(o.children,(function(o,i){var a=o._itemWrapper;e&&!t._isVisible(a,n)||(a.instance.index=r+i)})),o.updated=!0}}),this)}},{key:"_isVisible",value:function(e,t){var n=e.getBoundingClientRect();return n.bottom>t.top&&n.top<t.bottom}}])&&Pe(t.prototype,n),o&&Pe(t,o),r}(l.H3);function $e(e){return($e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Be(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ye(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Ve(e,t,n){return(Ve="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var o=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Ne(e)););return e}(e,t);if(o){var i=Object.getOwnPropertyDescriptor(o,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function He(e,t){return(He=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Le(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=Ne(e);if(t){var i=Ne(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return We(this,n)}}function We(e,t){return!t||"object"!==$e(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ne(e){return(Ne=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}customElements.define(Re.is,Re),(0,a.hC)("vaadin-date-picker-overlay",(0,a.iv)(Fe||(Fe=function(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n    :host {\n      align-items: flex-start;\n      justify-content: flex-start;\n    }\n\n    :host([bottom-aligned]) {\n      justify-content: flex-end;\n    }\n\n    :host([right-aligned]) {\n      align-items: flex-end;\n    }\n\n    :host([dir='rtl']) {\n      align-items: flex-end;\n    }\n\n    :host([dir='rtl'][right-aligned]) {\n      align-items: flex-start;\n    }\n\n    [part='overlay'] {\n      display: flex;\n      flex: auto;\n    }\n\n    [part~='content'] {\n      flex: auto;\n    }\n  "]))),{moduleId:"vaadin-date-picker-overlay-styles"});var qe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&He(e,t)}(r,e);var t,n,o,i=Le(r);function r(){return Be(this,r),i.apply(this,arguments)}return t=r,o=[{key:"template",get:function(){return(0,l.dy)(ze||(ze=function(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(['\n      <style>\n        :host {\n          display: flex;\n          flex-direction: column;\n          height: 100%;\n          width: 100%;\n          outline: none;\n          background: #fff;\n        }\n\n        [part=\'overlay-header\'] {\n          display: flex;\n          flex-shrink: 0;\n          flex-wrap: nowrap;\n          align-items: center;\n        }\n\n        :host(:not([fullscreen])) [part=\'overlay-header\'] {\n          display: none;\n        }\n\n        [part=\'label\'] {\n          flex-grow: 1;\n        }\n\n        [part=\'clear-button\']:not([showclear]) {\n          display: none;\n        }\n\n        [part=\'years-toggle-button\'] {\n          display: flex;\n        }\n\n        [part=\'years-toggle-button\'][desktop] {\n          display: none;\n        }\n\n        :host(:not([years-visible])) [part=\'years-toggle-button\']::before {\n          transform: rotate(180deg);\n        }\n\n        #scrollers {\n          display: flex;\n          height: 100%;\n          width: 100%;\n          position: relative;\n          overflow: hidden;\n        }\n\n        [part=\'months\'],\n        [part=\'years\'] {\n          height: 100%;\n        }\n\n        [part=\'months\'] {\n          --vaadin-infinite-scroller-item-height: 270px;\n          position: absolute;\n          top: 0;\n          left: 0;\n          right: 0;\n          bottom: 0;\n        }\n\n        #scrollers[desktop] [part=\'months\'] {\n          right: 50px;\n          transform: none !important;\n        }\n\n        [part=\'years\'] {\n          --vaadin-infinite-scroller-item-height: 80px;\n          width: 50px;\n          position: absolute;\n          right: 0;\n          transform: translateX(100%);\n          -webkit-tap-highlight-color: transparent;\n          -webkit-user-select: none;\n          -moz-user-select: none;\n          user-select: none;\n          /* Center the year scroller position. */\n          --vaadin-infinite-scroller-buffer-offset: 50%;\n        }\n\n        #scrollers[desktop] [part=\'years\'] {\n          position: absolute;\n          transform: none !important;\n        }\n\n        [part=\'years\']::before {\n          content: \'\';\n          display: block;\n          background: transparent;\n          width: 0;\n          height: 0;\n          position: absolute;\n          left: 0;\n          top: 50%;\n          transform: translateY(-50%);\n          border-width: 6px;\n          border-style: solid;\n          border-color: transparent;\n          border-left-color: #000;\n        }\n\n        :host(.animate) [part=\'months\'],\n        :host(.animate) [part=\'years\'] {\n          transition: all 200ms;\n        }\n\n        [part=\'toolbar\'] {\n          display: flex;\n          justify-content: space-between;\n          z-index: 2;\n          flex-shrink: 0;\n        }\n\n        [part~=\'overlay-header\']:not([desktop]) {\n          padding-bottom: 40px;\n        }\n\n        [part~=\'years-toggle-button\'] {\n          position: absolute;\n          top: auto;\n          right: 8px;\n          bottom: 0;\n          z-index: 1;\n          padding: 8px;\n        }\n\n        #announcer {\n          display: inline-block;\n          position: fixed;\n          clip: rect(0, 0, 0, 0);\n          clip-path: inset(100%);\n        }\n      </style>\n\n      <div id="announcer" role="alert" aria-live="polite">[[i18n.calendar]]</div>\n\n      <div part="overlay-header" on-touchend="_preventDefault" desktop$="[[_desktopMode]]" aria-hidden="true">\n        <div part="label">[[_formatDisplayed(selectedDate, i18n.formatDate, label)]]</div>\n        <div part="clear-button" on-tap="_clear" showclear$="[[_showClear(selectedDate)]]"></div>\n        <div part="toggle-button" on-tap="_cancel"></div>\n\n        <div part="years-toggle-button" desktop$="[[_desktopMode]]" on-tap="_toggleYearScroller" aria-hidden="true">\n          [[_yearAfterXMonths(_visibleMonthIndex)]]\n        </div>\n      </div>\n\n      <div id="scrollers" desktop$="[[_desktopMode]]" on-track="_track">\n        <vaadin-infinite-scroller\n          id="monthScroller"\n          on-custom-scroll="_onMonthScroll"\n          on-touchstart="_onMonthScrollTouchStart"\n          buffer-size="3"\n          active="[[initialPosition]]"\n          part="months"\n        >\n          <template>\n            <vaadin-month-calendar\n              i18n="[[i18n]]"\n              month="[[_dateAfterXMonths(index)]]"\n              selected-date="{{selectedDate}}"\n              focused-date="[[focusedDate]]"\n              ignore-taps="[[_ignoreTaps]]"\n              show-week-numbers="[[showWeekNumbers]]"\n              min-date="[[minDate]]"\n              max-date="[[maxDate]]"\n              focused$="[[_focused]]"\n              part="month"\n              theme$="[[theme]]"\n            >\n            </vaadin-month-calendar>\n          </template>\n        </vaadin-infinite-scroller>\n        <vaadin-infinite-scroller\n          id="yearScroller"\n          on-tap="_onYearTap"\n          on-custom-scroll="_onYearScroll"\n          on-touchstart="_onYearScrollTouchStart"\n          buffer-size="12"\n          active="[[initialPosition]]"\n          part="years"\n        >\n          <template>\n            <div\n              part="year-number"\n              role="button"\n              current$="[[_isCurrentYear(index)]]"\n              selected$="[[_isSelectedYear(index, selectedDate)]]"\n            >\n              [[_yearAfterXYears(index)]]\n            </div>\n            <div part="year-separator" aria-hidden="true"></div>\n          </template>\n        </vaadin-infinite-scroller>\n      </div>\n\n      <div on-touchend="_preventDefault" role="toolbar" part="toolbar">\n        <vaadin-button\n          id="todayButton"\n          part="today-button"\n          theme="tertiary"\n          disabled="[[!_isTodayAllowed(minDate, maxDate)]]"\n          on-tap="_onTodayTap"\n        >\n          [[i18n.today]]\n        </vaadin-button>\n        <vaadin-button id="cancelButton" part="cancel-button" theme="tertiary" on-tap="_cancel">\n          [[i18n.cancel]]\n        </vaadin-button>\n      </div>\n      <iron-media-query query="(min-width: 375px)" query-matches="{{_desktopMode}}"></iron-media-query>\n    '])))}},{key:"is",get:function(){return"vaadin-date-picker-overlay-content"}},{key:"properties",get:function(){return{selectedDate:{type:Date,notify:!0},focusedDate:{type:Date,notify:!0,observer:"_focusedDateChanged"},_focusedMonthDate:Number,initialPosition:{type:Date,observer:"_initialPositionChanged"},_originDate:{value:new Date},_visibleMonthIndex:Number,_desktopMode:Boolean,_translateX:{observer:"_translateXChanged"},_yearScrollerWidth:{value:50},i18n:{type:Object},showWeekNumbers:{type:Boolean},_ignoreTaps:Boolean,_notTapping:Boolean,minDate:Date,maxDate:Date,_focused:Boolean,label:String}}}],(n=[{key:"__isRTL",get:function(){return"rtl"===this.getAttribute("dir")}},{key:"ready",value:function(){Ve(Ne(r.prototype),"ready",this).call(this),this.setAttribute("tabindex",0),this.addEventListener("keydown",this._onKeydown.bind(this)),(0,c.NH)(this,"tap",this._stopPropagation),this.addEventListener("focus",this._onOverlayFocus.bind(this)),this.addEventListener("blur",this._onOverlayBlur.bind(this))}},{key:"connectedCallback",value:function(){Ve(Ne(r.prototype),"connectedCallback",this).call(this),this._closeYearScroller(),this._toggleAnimateClass(!0),(0,c.BP)(this.$.scrollers,"pan-y"),ce.N.requestAvailability()}},{key:"announceFocusedDate",value:function(){var e=this._currentlyFocusedDate(),t=[];he(e,new Date)&&t.push(this.i18n.today),t=t.concat([this.i18n.weekdays[e.getDay()],e.getDate(),this.i18n.monthNames[e.getMonth()],e.getFullYear()]),this.showWeekNumbers&&1===this.i18n.firstDayOfWeek&&(t.push(this.i18n.week),t.push(de(e))),this.dispatchEvent(new CustomEvent("iron-announce",{bubbles:!0,composed:!0,detail:{text:t.join(" ")}}))}},{key:"focusCancel",value:function(){this.$.cancelButton.focus()}},{key:"scrollToDate",value:function(e,t){this._scrollToPosition(this._differenceInMonths(e,this._originDate),t)}},{key:"_focusedDateChanged",value:function(e){this.revealDate(e)}},{key:"_isCurrentYear",value:function(e){return 0===e}},{key:"_isSelectedYear",value:function(e,t){if(t)return t.getFullYear()===this._originDate.getFullYear()+e}},{key:"revealDate",value:function(e){if(e){var t=this._differenceInMonths(e,this._originDate),n=this.$.monthScroller.position>t,o=this.$.monthScroller.clientHeight/this.$.monthScroller.itemHeight,i=this.$.monthScroller.position+o-1<t;n?this._scrollToPosition(t,!0):i&&this._scrollToPosition(t-o+1,!0)}}},{key:"_onOverlayFocus",value:function(){this._focused=!0}},{key:"_onOverlayBlur",value:function(){this._focused=!1}},{key:"_initialPositionChanged",value:function(e){this.scrollToDate(e)}},{key:"_repositionYearScroller",value:function(){this._visibleMonthIndex=Math.floor(this.$.monthScroller.position),this.$.yearScroller.position=(this.$.monthScroller.position+this._originDate.getMonth())/12}},{key:"_repositionMonthScroller",value:function(){this.$.monthScroller.position=12*this.$.yearScroller.position-this._originDate.getMonth(),this._visibleMonthIndex=Math.floor(this.$.monthScroller.position)}},{key:"_onMonthScroll",value:function(){this._repositionYearScroller(),this._doIgnoreTaps()}},{key:"_onYearScroll",value:function(){this._repositionMonthScroller(),this._doIgnoreTaps()}},{key:"_onYearScrollTouchStart",value:function(){var e=this;this._notTapping=!1,setTimeout((function(){return e._notTapping=!0}),300),this._repositionMonthScroller()}},{key:"_onMonthScrollTouchStart",value:function(){this._repositionYearScroller()}},{key:"_doIgnoreTaps",value:function(){var e=this;this._ignoreTaps=!0,this._debouncer=x.dx.debounce(this._debouncer,D.Wc.after(300),(function(){return e._ignoreTaps=!1}))}},{key:"_formatDisplayed",value:function(e,t,n){return e?t(ye(e)):n}},{key:"_onTodayTap",value:function(){var e=new Date;Math.abs(this.$.monthScroller.position-this._differenceInMonths(e,this._originDate))<.001?(this.selectedDate=e,this._close()):this._scrollToCurrentMonth()}},{key:"_scrollToCurrentMonth",value:function(){this.focusedDate&&(this.focusedDate=new Date),this.scrollToDate(new Date,!0)}},{key:"_showClear",value:function(e){return!!e}},{key:"_onYearTap",value:function(e){if(!this._ignoreTaps&&!this._notTapping){var t=(e.detail.y-(this.$.yearScroller.getBoundingClientRect().top+this.$.yearScroller.clientHeight/2))/this.$.yearScroller.itemHeight;this._scrollToPosition(this.$.monthScroller.position+12*t,!0)}}},{key:"_scrollToPosition",value:function(e,t){var n=this;if(void 0===this._targetPosition){if(!t)return this.$.monthScroller.position=e,this._targetPosition=void 0,void this._repositionYearScroller();this._targetPosition=e;var o=t?300:0,i=0,r=this.$.monthScroller.position;window.requestAnimationFrame((function e(t){var a,s,l,u=t-(i=i||t);if(u<o){var c=(a=u,s=r,l=n._targetPosition-r,(a/=o/2)<1?l/2*a*a+s:-l/2*(--a*(a-2)-1)+s);n.$.monthScroller.position=c,window.requestAnimationFrame(e)}else n.dispatchEvent(new CustomEvent("scroll-animation-finished",{bubbles:!0,composed:!0,detail:{position:n._targetPosition,oldPosition:r}})),n.$.monthScroller.position=n._targetPosition,n._targetPosition=void 0;setTimeout(n._repositionYearScroller.bind(n),1)}))}else this._targetPosition=e}},{key:"_limit",value:function(e,t){return Math.min(t.max,Math.max(t.min,e))}},{key:"_handleTrack",value:function(e){if(!(Math.abs(e.detail.dx)<10||Math.abs(e.detail.ddy)>10)){Math.abs(e.detail.ddx)>this._yearScrollerWidth/3&&this._toggleAnimateClass(!0);var t=this._translateX+e.detail.ddx;this._translateX=this._limit(t,{min:0,max:this._yearScrollerWidth})}}},{key:"_track",value:function(e){if(!this._desktopMode)switch(e.detail.state){case"start":this._toggleAnimateClass(!1);break;case"track":this._handleTrack(e);break;case"end":this._toggleAnimateClass(!0),this._translateX>=this._yearScrollerWidth/2?this._closeYearScroller():this._openYearScroller()}}},{key:"_toggleAnimateClass",value:function(e){e?this.classList.add("animate"):this.classList.remove("animate")}},{key:"_toggleYearScroller",value:function(){this._isYearScrollerVisible()?this._closeYearScroller():this._openYearScroller()}},{key:"_openYearScroller",value:function(){this._translateX=0,this.setAttribute("years-visible","")}},{key:"_closeYearScroller",value:function(){this.removeAttribute("years-visible"),this._translateX=this._yearScrollerWidth}},{key:"_isYearScrollerVisible",value:function(){return this._translateX<this._yearScrollerWidth/2}},{key:"_translateXChanged",value:function(e){this._desktopMode||(this.$.monthScroller.style.transform="translateX("+(e-this._yearScrollerWidth)+"px)",this.$.yearScroller.style.transform="translateX("+e+"px)")}},{key:"_yearAfterXYears",value:function(e){var t=new Date(this._originDate);return t.setFullYear(parseInt(e)+this._originDate.getFullYear()),t.getFullYear()}},{key:"_yearAfterXMonths",value:function(e){return this._dateAfterXMonths(e).getFullYear()}},{key:"_dateAfterXMonths",value:function(e){var t=new Date(this._originDate);return t.setDate(1),t.setMonth(parseInt(e)+this._originDate.getMonth()),t}},{key:"_differenceInMonths",value:function(e,t){return 12*(e.getFullYear()-t.getFullYear())-t.getMonth()+e.getMonth()}},{key:"_differenceInYears",value:function(e,t){return this._differenceInMonths(e,t)/12}},{key:"_clear",value:function(){this.selectedDate=""}},{key:"_close",value:function(){var e=this.getRootNode().host,t=e?e.getRootNode().host:null;t&&(t.opened=!1),this.dispatchEvent(new CustomEvent("close",{bubbles:!0,composed:!0}))}},{key:"_cancel",value:function(){this.focusedDate=this.selectedDate,this._close()}},{key:"_preventDefault",value:function(e){e.preventDefault()}},{key:"_eventKey",value:function(e){for(var t=["down","up","right","left","enter","space","home","end","pageup","pagedown","tab","esc"],n=0;n<t.length;n++){var o=t[n];if(ue.G.keyboardEventMatchesKeys(e,o))return o}}},{key:"_onKeydown",value:function(e){var t=this,n=this._currentlyFocusedDate(),o=e.composedPath().indexOf(this.$.todayButton)>=0,i=e.composedPath().indexOf(this.$.cancelButton)>=0,r=!o&&!i,a=this._eventKey(e);if("tab"===a){e.stopPropagation();var s=this.hasAttribute("fullscreen"),l=e.shiftKey;s?e.preventDefault():l&&r||!l&&i?(e.preventDefault(),this.dispatchEvent(new CustomEvent("focus-input",{bubbles:!0,composed:!0}))):l&&o?(this._focused=!0,setTimeout((function(){return t.revealDate(t.focusedDate)}),1)):this._focused=!1}else if(a)switch(e.preventDefault(),e.stopPropagation(),a){case"down":this._moveFocusByDays(7),this.focus();break;case"up":this._moveFocusByDays(-7),this.focus();break;case"right":r&&this._moveFocusByDays(this.__isRTL?-1:1);break;case"left":r&&this._moveFocusByDays(this.__isRTL?1:-1);break;case"enter":r||i?this._close():o&&this._onTodayTap();break;case"space":if(i)this._close();else if(o)this._onTodayTap();else{var u=this.focusedDate;he(u,this.selectedDate)?(this.selectedDate="",this.focusedDate=u):this.selectedDate=u}break;case"home":this._moveFocusInsideMonth(n,"minDate");break;case"end":this._moveFocusInsideMonth(n,"maxDate");break;case"pagedown":this._moveFocusByMonths(e.shiftKey?12:1);break;case"pageup":this._moveFocusByMonths(e.shiftKey?-12:-1);break;case"esc":this._cancel()}}},{key:"_currentlyFocusedDate",value:function(){return this.focusedDate||this.selectedDate||this.initialPosition||new Date}},{key:"_focusDate",value:function(e){this.focusedDate=e,this._focusedMonthDate=e.getDate()}},{key:"_focusClosestDate",value:function(e){this._focusDate(pe(e,[this.minDate,this.maxDate]))}},{key:"_moveFocusByDays",value:function(e){var t=this._currentlyFocusedDate(),n=new Date(0,0);n.setFullYear(t.getFullYear()),n.setMonth(t.getMonth()),n.setDate(t.getDate()+e),this._dateAllowed(n,this.minDate,this.maxDate)?this._focusDate(n):this._dateAllowed(t,this.minDate,this.maxDate)?e>0?this._focusDate(this.maxDate):this._focusDate(this.minDate):this._focusClosestDate(t)}},{key:"_moveFocusByMonths",value:function(e){var t=this._currentlyFocusedDate(),n=new Date(0,0);n.setFullYear(t.getFullYear()),n.setMonth(t.getMonth()+e);var o=n.getMonth();n.setDate(this._focusedMonthDate||(this._focusedMonthDate=t.getDate())),n.getMonth()!==o&&n.setDate(0),this._dateAllowed(n,this.minDate,this.maxDate)?this.focusedDate=n:this._dateAllowed(t,this.minDate,this.maxDate)?e>0?this._focusDate(this.maxDate):this._focusDate(this.minDate):this._focusClosestDate(t)}},{key:"_moveFocusInsideMonth",value:function(e,t){var n=new Date(0,0);n.setFullYear(e.getFullYear()),"minDate"===t?(n.setMonth(e.getMonth()),n.setDate(1)):(n.setMonth(e.getMonth()+1),n.setDate(0)),this._dateAllowed(n,this.minDate,this.maxDate)?this._focusDate(n):this._dateAllowed(e,this.minDate,this.maxDate)?this._focusDate(this[t]):this._focusClosestDate(e)}},{key:"_dateAllowed",value:function(e,t,n){return(!t||e>=t)&&(!n||e<=n)}},{key:"_isTodayAllowed",value:function(e,t){var n=new Date,o=new Date(0,0);return o.setFullYear(n.getFullYear()),o.setMonth(n.getMonth()),o.setDate(n.getDate()),this._dateAllowed(o,e,t)}},{key:"_stopPropagation",value:function(e){e.stopPropagation()}}])&&Ye(t.prototype,n),o&&Ye(t,o),r}((0,d.T)((0,M.U)((0,u._)(l.H3))));customElements.define(qe.is,qe);var Xe=n(72986),Ke=n(33367);function Ue(e){return(Ue="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ge(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Qe(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Je(e,t,n){return(Je="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var o=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=nt(e)););return e}(e,t);if(o){var i=Object.getOwnPropertyDescriptor(o,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function Ze(e,t){return(Ze=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function et(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=nt(e);if(t){var i=nt(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return tt(this,n)}}function tt(e,t){return!t||"object"!==Ue(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function nt(e){return(nt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ot;function it(e){return(it="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function rt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function at(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function st(e,t){return(st=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function lt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=ct(e);if(t){var i=ct(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return ut(this,n)}}function ut(e,t){return!t||"object"!==it(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ct(e){return(ct=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var dt,ht=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&st(e,t)}(r,e);var t,n,o,i=lt(r);function r(){return rt(this,r),i.apply(this,arguments)}return t=r,o=[{key:"template",get:function(){return(0,l.dy)(ot||(ot=function(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(['\n      <style>\n        :host {\n          display: inline-block;\n        }\n\n        :host([opened]) {\n          pointer-events: auto;\n        }\n      </style>\n      <slot></slot>\n\n      <vaadin-date-picker-overlay\n        id="overlay"\n        fullscreen$="[[_fullscreen]]"\n        opened="{{opened}}"\n        on-vaadin-overlay-open="_onOverlayOpened"\n        on-vaadin-overlay-close="_onOverlayClosed"\n        theme$="[[__getOverlayTheme(theme, _overlayInitialized)]]"\n      >\n        <template>\n          <vaadin-date-picker-overlay-content\n            id="overlay-content"\n            i18n="[[i18n]]"\n            fullscreen$="[[_fullscreen]]"\n            label="[[label]]"\n            selected-date="{{_selectedDate}}"\n            slot="dropdown-content"\n            focused-date="{{_focusedDate}}"\n            show-week-numbers="[[showWeekNumbers]]"\n            min-date="[[_minDate]]"\n            max-date="[[_maxDate]]"\n            on-date-tap="_close"\n            role="dialog"\n            part="overlay-content"\n            theme$="[[__getOverlayTheme(theme, _overlayInitialized)]]"\n          >\n          </vaadin-date-picker-overlay-content>\n        </template>\n      </vaadin-date-picker-overlay>\n\n      <iron-media-query query="[[_fullscreenMediaQuery]]" query-matches="{{_fullscreen}}"> </iron-media-query>\n    '])))}},{key:"is",get:function(){return"vaadin-date-picker-light"}},{key:"properties",get:function(){return{attrForValue:{type:String,value:"bind-value"},_overlayInitialized:{type:Boolean,value:!0}}}}],(n=[{key:"_input",value:function(){return this.querySelector("vaadin-text-field,iron-input,paper-input,.paper-input-input,.input")}},{key:"_inputValue",get:function(){return this._inputElement&&this._inputElement[(0,J.z)(this.attrForValue)]},set:function(e){this._inputElement&&(this._inputElement[(0,J.z)(this.attrForValue)]=e)}}])&&at(t.prototype,n),o&&at(t,o),r}((0,d.T)((dt=l.H3,function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ze(e,t)}(r,e);var t,n,o,i=et(r);function r(){return Ge(this,r),i.apply(this,arguments)}return t=r,o=[{key:"properties",get:function(){return{_selectedDate:{type:Date},_focusedDate:Date,value:{type:String,observer:"_valueChanged",notify:!0,value:""},required:{type:Boolean,value:!1},name:{type:String},initialPosition:String,label:String,opened:{type:Boolean,reflectToAttribute:!0,notify:!0,observer:"_openedChanged"},autoOpenDisabled:Boolean,showWeekNumbers:{type:Boolean},_fullscreen:{value:!1,observer:"_fullscreenChanged"},_fullscreenMediaQuery:{value:"(max-width: 420px), (max-height: 420px)"},_touchPrevented:Array,i18n:{type:Object,value:function(){return{monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekdaysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],firstDayOfWeek:0,week:"Week",calendar:"Calendar",clear:"Clear",today:"Today",cancel:"Cancel",formatDate:function(e){var t=String(e.year).replace(/\d+/,(function(e){return"0000".substr(e.length)+e}));return[e.month+1,e.day,t].join("/")},parseDate:function(e){var t,n=e.split("/"),o=new Date,i=o.getMonth(),r=o.getFullYear();if(3===n.length?(r=parseInt(n[2]),n[2].length<3&&r>=0&&(r+=r<50?2e3:1900),i=parseInt(n[0])-1,t=parseInt(n[1])):2===n.length?(i=parseInt(n[0])-1,t=parseInt(n[1])):1===n.length&&(t=parseInt(n[0])),void 0!==t)return{day:t,month:i,year:r}},formatTitle:function(e,t){return e+" "+t}}}},min:{type:String,observer:"_minChanged"},max:{type:String,observer:"_maxChanged"},_minDate:{type:Date,value:""},_maxDate:{type:Date,value:""},_noInput:{type:Boolean,computed:"_isNoInput(_fullscreen, _ios, i18n, i18n.*)"},_ios:{type:Boolean,value:navigator.userAgent.match(/iP(?:hone|ad;(?: U;)? CPU) OS (\d+)/)},_webkitOverflowScroll:{type:Boolean,value:""===document.createElement("div").style.webkitOverflowScrolling},_ignoreAnnounce:{value:!0},_focusOverlayOnOpen:Boolean,_overlayInitialized:Boolean}}},{key:"observers",get:function(){return["_updateHasValue(value)","_selectedDateChanged(_selectedDate, i18n.formatDate)","_focusedDateChanged(_focusedDate, i18n.formatDate)","_announceFocusedDate(_focusedDate, opened, _ignoreAnnounce)"]}}],(n=[{key:"ready",value:function(){var e=this;Je(nt(r.prototype),"ready",this).call(this),this._boundOnScroll=this._onScroll.bind(this),this._boundFocus=this._focus.bind(this),this._boundUpdateAlignmentAndPosition=this._updateAlignmentAndPosition.bind(this);var t=function(t){var n=t.composedPath(),o=n.indexOf(e._inputElement);return 1===n.slice(0,o).filter((function(e){return e.getAttribute&&"clear-button"===e.getAttribute("part")})).length};(0,c.NH)(this,"tap",(function(n){t(n)||e.autoOpenDisabled&&!e._noInput||e.open()})),this.addEventListener("touchend",(function(e){t(e)||e.preventDefault()})),this.addEventListener("keydown",this._onKeydown.bind(this)),this.addEventListener("input",this._onUserInput.bind(this)),this.addEventListener("focus",(function(t){return e._noInput&&t.target.blur()})),this.addEventListener("blur",(function(){if(!e.opened){if(e.autoOpenDisabled){var t=e._getParsedDate();e._isValidDate(t)&&(e._selectedDate=t)}""===e._inputElement.value&&e.__dispatchChange?(e.validate(),e.value="",e.__dispatchChange=!1):e.validate()}}))}},{key:"_initOverlay",value:function(){var e=this;this.$.overlay.removeAttribute("disable-upgrade"),this._overlayInitialized=!0,this.$.overlay.addEventListener("opened-changed",(function(t){return e.opened=t.detail.value})),this._overlayContent.addEventListener("close",this._close.bind(this)),this._overlayContent.addEventListener("focus-input",this._focusAndSelect.bind(this)),this.$.overlay.addEventListener("vaadin-overlay-escape-press",this._boundFocus),this._overlayContent.addEventListener("focus",(function(){return e.focusElement._setFocused(!0)})),this.$.overlay.addEventListener("vaadin-overlay-close",this._onVaadinOverlayClose.bind(this));var t=function(){requestAnimationFrame((function(){e.$.overlay.bringToFront()}))};this.addEventListener("mousedown",t),this.addEventListener("touchstart",t)}},{key:"disconnectedCallback",value:function(){Je(nt(r.prototype),"disconnectedCallback",this).call(this),this._overlayInitialized&&this.$.overlay.removeEventListener("vaadin-overlay-escape-press",this._boundFocus),this.opened=!1}},{key:"open",value:function(){this.disabled||this.readonly||(this.opened=!0)}},{key:"_close",value:function(e){e&&e.stopPropagation(),this._focus(),this.close()}},{key:"close",value:function(){(this._overlayInitialized||this.autoOpenDisabled)&&this.$.overlay.close()}},{key:"_inputElement",get:function(){return this._input()}},{key:"_nativeInput",get:function(){return this._inputElement?this._inputElement.focusElement?this._inputElement.focusElement:this._inputElement.inputElement?this._inputElement.inputElement:this._inputElement:null}},{key:"_parseDate",value:function(e){var t=/^([-+]\d{1}|\d{2,4}|[-+]\d{6})-(\d{1,2})-(\d{1,2})$/.exec(e);if(t){var n=new Date(0,0);return n.setFullYear(parseInt(t[1],10)),n.setMonth(parseInt(t[2],10)-1),n.setDate(parseInt(t[3],10)),n}}},{key:"_isNoInput",value:function(e,t,n){return!this._inputElement||e||t||!n.parseDate}},{key:"_formatISO",value:function(e){if(!(e instanceof Date))return"";var t=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"00";return(t+e).substr((t+e).length-t.length)},n="",o="0000",i=e.getFullYear();return i<0?(i=-i,n="-",o="000000"):e.getFullYear()>=1e4&&(n="+",o="000000"),[n+t(i,o),t(e.getMonth()+1),t(e.getDate())].join("-")}},{key:"_openedChanged",value:function(e){e&&!this._overlayInitialized&&this._initOverlay(),this._overlayInitialized&&(this.$.overlay.opened=e),e&&this._updateAlignmentAndPosition()}},{key:"_selectedDateChanged",value:function(e,t){if(void 0!==e&&void 0!==t){this.__userInputOccurred&&(this.__dispatchChange=!0);var n=this._formatISO(e);this.__keepInputValue||this._applyInputValue(e),n!==this.value&&(this.validate(),this.value=n),this.__userInputOccurred=!1,this.__dispatchChange=!1,this._ignoreFocusedDateChange=!0,this._focusedDate=e,this._ignoreFocusedDateChange=!1}}},{key:"_focusedDateChanged",value:function(e,t){void 0!==e&&void 0!==t&&(this.__userInputOccurred=!0,this._ignoreFocusedDateChange||this._noInput||this._applyInputValue(e))}},{key:"_updateHasValue",value:function(e){e?this.setAttribute("has-value",""):this.removeAttribute("has-value")}},{key:"__getOverlayTheme",value:function(e,t){if(t)return e}},{key:"_handleDateChange",value:function(e,t,n){if(t){var o=this._parseDate(t);o?he(this[e],o)||(this[e]=o,this.value&&this.validate()):this.value=n}else this[e]=""}},{key:"_valueChanged",value:function(e,t){this.__dispatchChange&&this.dispatchEvent(new CustomEvent("change",{bubbles:!0})),this._handleDateChange("_selectedDate",e,t)}},{key:"_minChanged",value:function(e,t){this._handleDateChange("_minDate",e,t)}},{key:"_maxChanged",value:function(e,t){this._handleDateChange("_maxDate",e,t)}},{key:"_updateAlignmentAndPosition",value:function(){if(this._overlayInitialized){if(!this._fullscreen){var e=this._inputElement.getBoundingClientRect(),t=e.top>window.innerHeight/2;if(e.left+this.clientWidth/2>window.innerWidth/2){var n=Math.min(window.innerWidth,document.documentElement.clientWidth);this.$.overlay.setAttribute("right-aligned",""),this.$.overlay.style.removeProperty("left"),this.$.overlay.style.right=n-e.right+"px"}else this.$.overlay.removeAttribute("right-aligned"),this.$.overlay.style.removeProperty("right"),this.$.overlay.style.left=e.left+"px";if(t){var o=Math.min(window.innerHeight,document.documentElement.clientHeight);this.$.overlay.setAttribute("bottom-aligned",""),this.$.overlay.style.removeProperty("top"),this.$.overlay.style.bottom=o-e.top+"px"}else this.$.overlay.removeAttribute("bottom-aligned"),this.$.overlay.style.removeProperty("bottom"),this.$.overlay.style.top=e.bottom+"px"}this.$.overlay.setAttribute("dir",getComputedStyle(this._inputElement).getPropertyValue("direction")),this._overlayContent._repositionYearScroller()}}},{key:"_fullscreenChanged",value:function(){this._overlayInitialized&&this.$.overlay.opened&&this._updateAlignmentAndPosition()}},{key:"_onOverlayOpened",value:function(){this._openedWithFocusRing=this.hasAttribute("focus-ring")||this.focusElement&&this.focusElement.hasAttribute("focus-ring");var e=this._parseDate(this.initialPosition),t=this._selectedDate||this._overlayContent.initialPosition||e||new Date;e||fe(t,this._minDate,this._maxDate)?this._overlayContent.initialPosition=t:this._overlayContent.initialPosition=pe(t,[this._minDate,this._maxDate]),this._overlayContent.scrollToDate(this._overlayContent.focusedDate||this._overlayContent.initialPosition),this._ignoreFocusedDateChange=!0,this._overlayContent.focusedDate=this._overlayContent.focusedDate||this._overlayContent.initialPosition,this._ignoreFocusedDateChange=!1,window.addEventListener("scroll",this._boundOnScroll,!0),this.addEventListener("iron-resize",this._boundUpdateAlignmentAndPosition),this._webkitOverflowScroll&&(this._touchPrevented=this._preventWebkitOverflowScrollingTouch(this.parentElement)),this._focusOverlayOnOpen?(this._overlayContent.focus(),this._focusOverlayOnOpen=!1):this._focus(),this._noInput&&this.focusElement&&this.focusElement.blur(),this.updateStyles(),this._ignoreAnnounce=!1}},{key:"_preventWebkitOverflowScrollingTouch",value:function(e){for(var t=[];e;){if("touch"===window.getComputedStyle(e).webkitOverflowScrolling){var n=e.style.webkitOverflowScrolling;e.style.webkitOverflowScrolling="auto",t.push({element:e,oldInlineValue:n})}e=e.parentElement}return t}},{key:"_selectParsedOrFocusedDate",value:function(){if(this._ignoreFocusedDateChange=!0,this.i18n.parseDate){var e=this._inputValue||"",t=this._getParsedDate(e);this._isValidDate(t)?this._selectedDate=t:(this.__keepInputValue=!0,this._selectedDate=null,this.__keepInputValue=!1)}else this._focusedDate&&(this._selectedDate=this._focusedDate);this._ignoreFocusedDateChange=!1}},{key:"_onOverlayClosed",value:function(){this._ignoreAnnounce=!0,window.removeEventListener("scroll",this._boundOnScroll,!0),this.removeEventListener("iron-resize",this._boundUpdateAlignmentAndPosition),this._touchPrevented&&(this._touchPrevented.forEach((function(e){return e.element.style.webkitOverflowScrolling=e.oldInlineValue})),this._touchPrevented=[]),this.updateStyles(),this._selectParsedOrFocusedDate(),this._nativeInput&&this._nativeInput.selectionStart&&(this._nativeInput.selectionStart=this._nativeInput.selectionEnd),this.value||this.validate()}},{key:"validate",value:function(){return!(this.invalid=!this.checkValidity(this._inputValue))}},{key:"checkValidity",value:function(){var e=!this._inputValue||this._selectedDate&&this._inputValue===this._getFormattedDate(this.i18n.formatDate,this._selectedDate),t=!this._selectedDate||fe(this._selectedDate,this._minDate,this._maxDate),n=!0;return this._inputElement&&(this._inputElement.checkValidity?(this._inputElement.__forceCheckValidity=!0,n=this._inputElement.checkValidity(),this._inputElement.__forceCheckValidity=!1):this._inputElement.validate&&(n=this._inputElement.validate())),e&&t&&n}},{key:"_onScroll",value:function(e){e.target!==window&&this._overlayContent.contains(e.target)||this._updateAlignmentAndPosition()}},{key:"_focus",value:function(){this._noInput?this._overlayInitialized&&this._overlayContent.focus():this._inputElement.focus()}},{key:"_focusAndSelect",value:function(){this._focus(),this._setSelectionRange(0,this._inputValue.length)}},{key:"_applyInputValue",value:function(e){this._inputValue=e?this._getFormattedDate(this.i18n.formatDate,e):""}},{key:"_getFormattedDate",value:function(e,t){return e(ye(t))}},{key:"_setSelectionRange",value:function(e,t){this._nativeInput&&this._nativeInput.setSelectionRange&&this._nativeInput.setSelectionRange(e,t)}},{key:"_eventKey",value:function(e){for(var t=["down","up","enter","esc","tab"],n=0;n<t.length;n++){var o=t[n];if(ue.G.keyboardEventMatchesKeys(e,o))return o}}},{key:"_isValidDate",value:function(e){return e&&!isNaN(e.getTime())}},{key:"_onKeydown",value:function(e){switch(this._noInput&&-1===[9].indexOf(e.keyCode)&&e.preventDefault(),this._eventKey(e)){case"down":case"up":e.preventDefault(),this.opened?(this._overlayContent.focus(),this._overlayContent._onKeydown(e)):(this._focusOverlayOnOpen=!0,this.open());break;case"enter":var t=this._getParsedDate(),n=this._isValidDate(t);if(this.opened)this._overlayInitialized&&this._overlayContent.focusedDate&&n&&(this._selectedDate=this._overlayContent.focusedDate),this.close();else if(n||""===this._inputElement.value){var o=this.value;this._selectParsedOrFocusedDate(),o===this.value&&this.validate()}else this.validate();break;case"esc":this.opened?(this._focusedDate=this._selectedDate,this._close()):this.autoOpenDisabled?(""===this._inputElement.value&&(this._selectedDate=null),this._applyInputValue(this._selectedDate)):(this._focusedDate=this._selectedDate,this._selectParsedOrFocusedDate());break;case"tab":this.opened&&(e.preventDefault(),this._setSelectionRange(0,0),e.shiftKey?this._overlayContent.focusCancel():(this._overlayContent.focus(),this._overlayContent.revealDate(this._focusedDate)))}}},{key:"_getParsedDate",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._inputValue,t=this.i18n.parseDate&&this.i18n.parseDate(e),n=t&&this._parseDate(t.year+"-"+(t.month+1)+"-"+t.day);return n}},{key:"_onUserInput",value:function(e){this.opened||!this._inputElement.value||this.autoOpenDisabled||this.open(),this._userInputValueChanged(),e.__fromClearButton&&(this.validate(),this.__dispatchChange=!0,this.value="",this.__dispatchChange=!1)}},{key:"_userInputValueChanged",value:function(){if(this.opened&&this._inputValue){var e=this._getParsedDate();this._isValidDate(e)&&(this._ignoreFocusedDateChange=!0,he(e,this._focusedDate)||(this._focusedDate=e),this._ignoreFocusedDateChange=!1)}}},{key:"_announceFocusedDate",value:function(e,t,n){t&&!n&&this._overlayContent.announceFocusedDate()}},{key:"_overlayContent",get:function(){return this.$.overlay.content.querySelector("#overlay-content")}}])&&Qe(t.prototype,n),o&&Qe(t,o),r}((0,Ke.P)([Xe.z],dt)))));customElements.define(ht.is,ht)}}]);
//# sourceMappingURL=a5d9121a.js.map